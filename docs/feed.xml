<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>btor.fr</title>
    <description>Passionné d'informatique, de développement web &amp; applicatif depuis plus de 10 ans. Je partage mon quotidien de tech !
</description>
    <link>https://btor.fr</link>
    <atom:link href="https://btor.fr/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sun, 25 Oct 2020 13:40:29 -0500</pubDate>
    <lastBuildDate>Sun, 25 Oct 2020 13:40:29 -0500</lastBuildDate>
    <generator>Jekyll v3.8.6</generator>
    
      <item>
        <title>Rétro-ingénierie: Capturer le trafic HTTPS d'une application Android</title>
        <description>&lt;p&gt;@@KJ Salut à toi jeune &lt;del&gt;entrepreneur&lt;/del&gt;, &lt;del&gt;caucasoïde&lt;/del&gt;…
Oula ! je glisse sur l’actu @@OOPS&lt;/p&gt;

&lt;p&gt;Dans l’article sur &lt;a href=&quot;/2020/04/07/noteflix-allocine-netflix/&quot;&gt;Noteflix&lt;/a&gt; je vous parlais d’une technique pour récupérer le trafic IP à travers une application mobile.
L’astuce résidait dans l’utilisation de l’application &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.egorovandreyrm.pcapremote&quot;&gt;PCAPRemote&lt;/a&gt; avec SSHDump et Wireshark pour l’analyse des paquets IP.&lt;/p&gt;

&lt;p&gt;Rappel:&lt;/p&gt;
&lt;div class=&quot;language-markdown highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PCAPRemote est une application qui se charge de capturer les paquets IP du téléphone.
PCAPRemote peut vous fournir un fichier .pcap mais aussi faire office de serveur et fournir les paquets au travers de SSH (méthode SSHDump), dans ce cas, Wireshark se connectera à PCAPRemote afin de récupérer les paquets IP. 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;Et si on testait avec une application qui contient du HTTPS ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ça tombe bien, j’ai du temps avec le couvre-feu actuel @@SAD. 
J’enfile donc mon plus beau couvre-chef et je me lance dans le sniffing de &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.btorfr&quot;&gt;ma propre application&lt;/a&gt; @@WINK&lt;/p&gt;

&lt;h1 id=&quot;contexte&quot;&gt;Contexte&lt;/h1&gt;
&lt;p&gt;L’application &lt;strong&gt;btor.fr&lt;/strong&gt; est un très bon cas d’utilisation car elle ne fait rien de complexe.
Elle se charge de récupérer un flux RSS sur &lt;a href=&quot;http://btor.fr/feed.xml&quot;&gt;https://btor.fr/feed.xml&lt;/a&gt; et affiche les articles de ce flux. C’est tout !&lt;/p&gt;

&lt;p&gt;Nous allons partir du principe que nous ne connaissons pas du tout l’application et qu’on aimerait voir où elle récupère ses articles, une API ? un flux RSS ?&lt;/p&gt;

&lt;h1 id=&quot;sniffing-ssl&quot;&gt;Sniffing SSL&lt;/h1&gt;
&lt;p&gt;Le sniffing consiste à lire ce qu’il se passe sur une liaison. 
Par exemple, lire les communications entre votre machine et les serveurs de Facebook.
Ça peut être tout type de flux HTTP, HTTPS, FTP, TELNET (ouais bon … @@SAD)&lt;/p&gt;

&lt;p&gt;Prenons l’exemple d’une liaison HTTP classique, pour intercepter ce qu’il se passe sur la liaison nous devons nous trouver au milieu de la liaison.
Une fois au milieu de la liaison, nous pouvons intercepter le trafic et le lire directement étant donné que HTTP n’est pas chiffré.&lt;/p&gt;

&lt;p&gt;Pour HTTPS c’est pareil, on se place au milieu de la liaison mais cette fois-ci nous allons jouer le rôle de &lt;a href=&quot;https://fr.wikipedia.org/wiki/Proxy&quot;&gt;proxy&lt;/a&gt;.
La “victime” (ici notre application) utilisera un certificat auto-signé, ce qui nous permettra de déchiffrer les paquets que l’on reçoit pour ensuite les renvoyer au destinataire (le serveur).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/retro-ingenierie-capturer-application-android/schema.png&quot; alt=&quot;&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;première-tentative&quot;&gt;Première tentative&lt;/h1&gt;
&lt;p&gt;Nous avions déjà réussi à capturer du trafic HTTP grâce à PCAPRemote, nous pourrions tout simplement faire de même et voir ce qu’il se passe ?&lt;/p&gt;

&lt;p&gt;Deal @@SLT !&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Lancer PCAPRemote et configurer-le en fonction de vos préférences (récupération dans un fichier ou via SSHDump)&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;&lt;img src=&quot;/assets/images/retro-ingenierie-capturer-application-android/pcap_remote.png&quot; alt=&quot;PCAPRemote&quot; width=&quot;200&quot; /&gt;&lt;/center&gt;

&lt;ul&gt;
  &lt;li&gt;Cliquer sur le logo “Play” pour lancer la capture puis analyser votre fichier .pcap&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Vous ne voyez aucune trame HTTP ? alors que vous avez bien pris le soin de cocher la case &lt;code class=&quot;highlighter-rouge&quot;&gt;Make HTTPS/TLS connections decryptable&lt;/code&gt; ? et vous avez bien installé les certificats ?&lt;/p&gt;

&lt;p&gt;C’est normal @@LUL&lt;/p&gt;

&lt;h1 id=&quot;les-restrictions&quot;&gt;Les restrictions&lt;/h1&gt;
&lt;p&gt;Depuis Android 7 Nougat (2016), Google a &lt;a href=&quot;https://android-developers.googleblog.com/2016/07/changes-to-trusted-certificate.html&quot;&gt;ajouté une sécurité&lt;/a&gt; afin de limiter les authorités de certifications (CA) approuvées par défaut par l’application.
Autrement dit, si l’application ne précise pas elle-même qu’elle autorise des CAs tierce, l’application n’utilisera jamais notre certificat auto-signé. 
Pas très pratique pour sniffer le trafic… @@NO&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/ooWd8vV2dCs?controls=0&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Dans mon cas, je pourrais très bien reconstruire mon application avec les nouvelles recommendations de Google mais ça ne serait pas très fun @@LUL !
Nous allons donc faire comme si je n’étais pas le développeur de l’application.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Comment dire à l’application d’autoriser les certificats auto-signés si nous n’avons pas les sources de l’application ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/26FfieBFKHaHCivte/giphy.gif&quot; alt=&quot;&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;C’est exactement la question que je me suis posé et après quelques recherches je me suis rendu compte qu’il était possible d’injecter une configuration à un APK @@HEY !&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Première étape&lt;/strong&gt;, nous devons trouver le fichier APK de l’application :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Récupérer l’ID de l’application dans l’URL du &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.btorfr&quot;&gt;PlayStore&lt;/a&gt;, ici &lt;code class=&quot;highlighter-rouge&quot;&gt;com.btorfr&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Puis télécharger l’APK via un site type &lt;a href=&quot;https://apps.evozi.com/apk-downloader/?id=com.btorfr&quot;&gt;Evozi&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Seconde étape&lt;/strong&gt;, nous allons lui injecter la configuration &lt;code class=&quot;highlighter-rouge&quot;&gt;network-security-config&lt;/code&gt; en utilisant &lt;a href=&quot;https://github.com/levyitay/AddSecurityExceptionAndroid&quot;&gt;ce script&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Rien de plus simple, il suffit de cloner le repository et de lancer :&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./addSecurityExceptions.sh com.btorfr.apk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;center&gt;&lt;sup&gt;(où com.btorfr.apk est le nom de l'APK téléchargé)&lt;/sup&gt;&lt;/center&gt;

&lt;p&gt;&lt;em&gt;Il se peut que le script ne fonctionne pas en fonction de l’application.
Dans ce cas, il faudra directement utiliser &lt;a href=&quot;https://github.com/iBotPeaches/Apktool/&quot;&gt;APKTool&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Vous devriez avoir une nouvelle version de l’APK disponible dans le répertoire courant.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Troisième étape&lt;/strong&gt;, installer l’APK sur le téléphone. 
Soit vous l’installez vous-même sur votre téléphone, soit, si vous passez comme moi par un émulateur vous pouvez taper &lt;code class=&quot;highlighter-rouge&quot;&gt;adb install com.btorfr.apk&lt;/code&gt; pour l’installer directement dans l’émulateur.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Quatrième étape&lt;/strong&gt;, Tester ! 
Notre application est normalement opérationnelle, nous pouvons tester avec PCAPRemote ! 
Les étapes sont exactement les mêmes qu’en sniffant de l’HTTP à la petite différence que vous devrez importer le certificat SSL de PCAPRemote pour que cela fonctionne.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/retro-ingenierie-capturer-application-android/wireshark_summary.png&quot; alt=&quot;&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/retro-ingenierie-capturer-application-android/wireshark_detail.png&quot; alt=&quot;&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Tada @@PROUD ! Nous avons bien notre appel au flux RSS de visible. 
On peut apercevoir la couche TLS au-dessus d’HTTP, garantie que la liaison est bien chiffrée.&lt;/p&gt;

&lt;h1 id=&quot;aller-plus-loin&quot;&gt;Aller plus loin&lt;/h1&gt;
&lt;p&gt;J’ai volontairement réutilisé PCAPRemote parce que son utilisation est simple mais il est à noter que &lt;strong&gt;ce n’est pas un proxy&lt;/strong&gt;.
PCAPRemote utilise une fonctionnalité spécifique à Android qui s’appelle &lt;a href=&quot;https://developer.android.com/reference/android/net/VpnService&quot;&gt;VPNService&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;VpnService is a base class for applications to extend and build their own VPN solutions&lt;/p&gt;

  &lt;p&gt;It creates a virtual network interface, configures addresses and routing rules, and returns a file descriptor to the application&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Si vous souhaitez aller un peu plus loin avec le sniffing, je vous recommande de vous orienter vers des outils dédiés comme &lt;a href=&quot;https://portswigger.net/burp/communitydownload&quot;&gt;Burp Suite&lt;/a&gt; ou &lt;a href=&quot;https://www.telerik.com/fiddler&quot;&gt;Fiddler&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Burp est un outil dédié à l’audit de sécurité. 
Il permet notamment de créer un proxy, capturer le trafic HTTP/HTTPS, pouvoir intercepter/modifier les requêtes, faire des scans de vulnérabilités etc&lt;/p&gt;

&lt;p&gt;En vous basant sur &lt;a href=&quot;https://portswigger.net/support/configuring-an-android-device-to-work-with-burp&quot;&gt;le tuto officiel&lt;/a&gt; vous pourrez obtenir exactement le même résultat qu’avec PCAPRemote :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/retro-ingenierie-capturer-application-android/burp.png&quot; alt=&quot;&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;
&lt;center&gt;&lt;i&gt;Exemple avec l'application btor.fr&lt;/i&gt;&lt;/center&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;L’interception peut s’avérer très simple comme très complexe, tout dépendra de l’application que vous cherchez à rétro-ingéniérer et du type d’échange entre l’application et son/ses serveurs.&lt;/p&gt;

&lt;p&gt;Dans les cas les plus complexes, vous devrez surement utiliser APKTool directement, faire quelques modifications propres à votre application voire vous amusez à déchiffrer la liaison client/serveur si celle-ci utilise un système d’échange moins intelligible que du JSON ou XML.&lt;/p&gt;

&lt;h1 id=&quot;liens&quot;&gt;Liens&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://egorovandreyrm.com/pcap-remote-tutorial&quot;&gt;PCAPRemote Tutorial&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://play.google.com/store/apps/details?id=com.egorovandreyrm.pcapremote&quot;&gt;PCAPRemote sur Playstore&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/egorovandreyrm/pcap-remote&quot;&gt;PCAPRemote sur Github&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://portswigger.net/burp/communitydownload&quot;&gt;Burp Suite&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/iBotPeaches/Apktool/&quot;&gt;APKTool&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 24 Oct 2020 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/retro-ingenierie-capturer-application-android/main.jpg</image>
        <link>https://btor.fr/2020/10/24/retro-ingenierie-capturer-application-android/</link>
        <guid isPermaLink="true">https://btor.fr/2020/10/24/retro-ingenierie-capturer-application-android/</guid>
        
        <category>Securite</category>
        
        <category>Mobile</category>
        
        
      </item>
    
      <item>
        <title>Logger son front (web ou extension de navigateur) avec Datadog</title>
        <description>&lt;p&gt;En tant que développeur back-end, j’ai été amené à utiliser &lt;a href=&quot;https://www.datadoghq.com/&quot;&gt;Datadog&lt;/a&gt; pour monitorer mes applications web.
Logs, Metrics, Monitor, Synthetics tests, Events… 
J’ai pu tester à peu près tous les services proposés par Datadog, certains m’ont plus, d’autres un peu moins mais globalement je suis assez fan du service proposé par Datadog.&lt;/p&gt;

&lt;p&gt;Un des points qui revient souvent quand on parle de Datadog c’est :&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Ca serait bien de pouvoir monitorer aussi le front !&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ca tombe bien, depuis fin 2019 Datadog travaille sur &lt;a href=&quot;https://github.com/DataDog/browser-sdk&quot;&gt;Browser-SDK&lt;/a&gt; dont &lt;a href=&quot;https://www.npmjs.com/package/@datadog/browser-logs&quot;&gt;Browser-logs&lt;/a&gt; @@SLT !
&lt;code class=&quot;highlighter-rouge&quot;&gt;Browser-Logs&lt;/code&gt; est un package NPM à installer qui met à disposition un Logger qui se chargera automatiquement de push les logs à Datadog. 
C’est simple à mettre en place et en plus on y retrouve toutes les fonctionnalités “classiques” de Datadog comme le fait d’avoir les attributs de GeoIP, User-Agent, Session, HTTP… directement interprété dans Datadog.&lt;/p&gt;

&lt;p&gt;Ca tombe doublement bien puisque j’ai actuellement besoin d’un outil pour logger mon extension &lt;a href=&quot;https://github.com/bt0r/NoteFlix&quot;&gt;Noteflix&lt;/a&gt; @@RS&lt;/p&gt;

&lt;h1 id=&quot;installation&quot;&gt;Installation&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Pour l’installation c’est simple, il vous suffira d’installer le package &lt;code class=&quot;highlighter-rouge&quot;&gt;browser-logs&lt;/code&gt;
    &lt;pre&gt;&lt;code class=&quot;language-BASH&quot;&gt;npm install --save @datadog/browser-logs
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;Ensuite, vous devrez vous rendre sur Datadog, dans &lt;code class=&quot;highlighter-rouge&quot;&gt;Integrations&lt;/code&gt; &amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;API&lt;/code&gt; puis &lt;code class=&quot;highlighter-rouge&quot;&gt;Client Tokens&lt;/code&gt; (ou directement via &lt;a href=&quot;https://app.datadoghq.com/account/settings#api&quot;&gt;ce lien&lt;/a&gt;)
 et créer un nouveau token. Garder le dans un coin, il servira bientôt.
&lt;img src=&quot;/assets/images/logger-front-datadog/1.png&quot; alt=&quot;&quot; class=&quot;center-image&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Intégrez ensuite l’initialisation du package comme suit :&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;datadogLogs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;clientToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&amp;lt;votre token&amp;gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Le token que vous avez crée juste avant&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;datacenter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'us'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Le datacenter de destination, &quot;eu&quot; ou &quot;us&quot; &lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;forwardErrorsToLogs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Si vous désirez envoyer les console.error() à datadog&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;sampleRate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Le pourcentage de session que vous voulez surveiller, de 0 à 100 donc.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;Une fois l’initialisation effectuée, vous pourrez envoyer votre premier log :&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;datadogLogs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'@datadog/browser-logs'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;datadogLogs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'TEST'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;C’est aussi simple que ça ! L’API fournit par le logger est assez standard, elle vous permet de passer des contextes, créer différents logger etc.&lt;/p&gt;

&lt;h1 id=&quot;à-savoir&quot;&gt;À savoir&lt;/h1&gt;
&lt;p&gt;Je n’ai pas eu l’occasion de tester ça coté front mais il semblerait que Browser-Logs soit mieux supporté coté front “standard” plutôt que sur les extensions.&lt;/p&gt;

&lt;h2 id=&quot;spécificités-aux-extensions&quot;&gt;Spécificités aux extensions&lt;/h2&gt;
&lt;p&gt;J’ai effectivement rencontré quelques petits soucis avec l’intégration de Browser-Logs dans mon extension (&lt;a href=&quot;https://github.com/DataDog/browser-sdk/issues/487&quot;&gt;voir cette issue&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Les extensions ne disposant pas du même contexte d’exécution qu’une app front classique, Browser-Logs ne fonctionne pas avec l’option &lt;code class=&quot;highlighter-rouge&quot;&gt;forwardErrorsToLogs&lt;/code&gt;, il vous faudra désactiver cette option.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;spécificités-globales&quot;&gt;Spécificités globales&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Après investigation, je me suis rendu compte que le datacenter &lt;code class=&quot;highlighter-rouge&quot;&gt;eu&lt;/code&gt; ne fonctionnait pas (renvoie une 403), c’était peut-être un problème lié à Datadog ou autre mais j’ai dû passer par le Datacenter &lt;code class=&quot;highlighter-rouge&quot;&gt;us&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Qui dit logger, dit “tracking”. Bien que ce ne soit pas spécialement ce que vous espérez faire, c’est ce que les bloqueurs de pub risque d’interpréter.
J’ai fait quelques tests et il est à noter qu’AdBlock ne semble pas bloquer les appels HTTP issu de Browser-Logs, par contre uBlock est lui plus restrictif et bloque automatiquement tous les appels.
Vous devrez donc prendre en compte qu’une partie de vos utilisateurs ne seront pas monitorés.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;L’intégration de Datadog pour logger notre application front est assez simple ! 
Il est à noter qu’il est aussi possible de faire du &lt;a href=&quot;https://docs.datadoghq.com/fr/real_user_monitoring/&quot;&gt;RUM&lt;/a&gt; (Real User Monitoring) en utilisant &lt;a href=&quot;https://www.npmjs.com/package/@datadog/browser-rum&quot;&gt;Browser-RUM&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Vous avez désormais toutes les cartes en main pour monitorer votre application @@BEER&lt;/p&gt;

&lt;h1 id=&quot;liens&quot;&gt;Liens&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/DataDog/browser-sdk&quot;&gt;Browser-Logs sur Github&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.datadoghq.com/fr/logs/log_collection/javascript/?tab=npm&quot;&gt;Documentation Officielle&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/bt0r/NoteFlix/blob/db5cd5ca33ecf84687564bd64d840c55d73bab57/src/logging/Logger.js&quot;&gt;Exemple d’intégration dans une extension&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 11 Sep 2020 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/logger-front-datadog/main.jpg</image>
        <link>https://btor.fr/2020/09/11/logger-front-datadog/</link>
        <guid isPermaLink="true">https://btor.fr/2020/09/11/logger-front-datadog/</guid>
        
        <category>Front-end</category>
        
        <category>Datadog</category>
        
        <category>Javascript</category>
        
        <category>Monitoring</category>
        
        
      </item>
    
      <item>
        <title>Afficher le titre Spotify en cours de lecture dans OBS (linux)</title>
        <description>&lt;p&gt;Rares sont les applications de streaming musical qui s’intègrent simplement à OBS (&lt;a href=&quot;https://www.foobar2000.org/&quot;&gt;Foobar&lt;/a&gt; for the win) @@PROUD
Et pourtant, c’est toujours pratique de pouvoir récupérer la musique que notre streamer préféré (ou pas) est en train de passer.&lt;/p&gt;

&lt;p&gt;Nous allons voir comment intégrer le titre de la chanson en cours de lecture depuis l’application Spotify, directement dans OBS.&lt;/p&gt;

&lt;p&gt;L’astuce réside intégralement sur le fait que spotify affiche le titre de la musique dans son titre de fenêtre.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/spotify-obs-titre-chanson/titre.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Nous allons donc procéder ainsi :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Récupérer le titre de la musique via le titre de la fenêtre de Spotify&lt;/li&gt;
  &lt;li&gt;Écrire ce titre dans un fichier.&lt;/li&gt;
  &lt;li&gt;Dire à OBS d’afficher le contenu de ce fichier. C’est tout ! @@WINK&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;installation&quot;&gt;Installation&lt;/h1&gt;
&lt;p&gt;La première étape consiste à installer &lt;code class=&quot;highlighter-rouge&quot;&gt;wmctrl&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;xdotool&lt;/code&gt;, c’est grâce à ces deux commandes qu’on pourra récupérer le titre depuis la CLI.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install wmctrl xdotool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En fonction de votre distribution vous devriez déjà disposer de &lt;code class=&quot;highlighter-rouge&quot;&gt;pgrep&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;head&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;grep&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;awk&lt;/code&gt; vous n’avez donc rien d’autres à installer.&lt;/p&gt;

&lt;h1 id=&quot;création-du-script&quot;&gt;Création du script&lt;/h1&gt;
&lt;p&gt;Je vous mâche le boulot, j’ai déjà fait le script @@RS&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
snap run spotify&amp;amp; &lt;span class=&quot;c&quot;&gt;# On lance spotify&lt;/span&gt;
getSong&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;nv&quot;&gt;pid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;pgrep &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/snap/spotify/.+/usr/share/spotify/spotify$&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# On récupère le PID (processus ID) de spotify&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$pid&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Pas de PID ? Pas de musiké !&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;No song playing&quot;&lt;/span&gt; 
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# On vide le fichier de destination pour éviter d'afficher une information erronée&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else
    &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;windowId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;wmctrl &lt;span class=&quot;nt&quot;&gt;-lp&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$pid&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'{print $1}'&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# On récupère l'ID de la fenêtre&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;songName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;xdotool getwindowname &lt;span class=&quot;nv&quot;&gt;$windowId&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Puis on récupère le titre de la fenêtre grâce à son ID&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;do
  &lt;/span&gt;getSong
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$songName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# On écrit le résultat dans le fichier de destination, toutes les 10 secondes.&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;sleep &lt;/span&gt;10 &lt;span class=&quot;c&quot;&gt;# Le script réactualisera le titre en cours toutes les 10 secondes&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Vous noterez plusieurs informations importantes :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;On utilise la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;snap run spotify&amp;amp;&lt;/code&gt; dès le début, ce qui veut dire qu’on lance Spotify (via &lt;a href=&quot;https://doc.ubuntu-fr.org/snap&quot;&gt;snap&lt;/a&gt;) et qu’ensuite le script fait son boulot. 
Je l’ai intégré au script car si vous lancez votre spotify “normalement” vous oublierez la plupart du temps de lancer le script.
En utilisant ce script, vous n’avez qu’a changé votre raccourci Spotify et le faire pointer vers celui-ci.&lt;/li&gt;
  &lt;li&gt;Le script s’actualise toutes les 10 secondes &lt;code class=&quot;highlighter-rouge&quot;&gt;sleep 10&lt;/code&gt;, à vous de modifier cette valeur à votre guise.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$1&lt;/code&gt; est utilisé dans le script, ce qui veut dire qu’il y a un argument à passer au script : &lt;strong&gt;Le chemin de destination du fichier !&lt;/strong&gt;, il vous faudra exécuter le script de cette façon &lt;code class=&quot;highlighter-rouge&quot;&gt;sh nom_script.sh /home/btor/songname.txt&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;intégration-à-obs&quot;&gt;Intégration à OBS&lt;/h1&gt;
&lt;p&gt;Rendez-vous ensuite sur OBS et dans votre scène, ajouter une source texte et sélectionner votre fichier généré par le script :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/spotify-obs-titre-chanson/obs-ajout-texte.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Et voilà @@KJ&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/spotify-obs-titre-chanson/obs-apercu.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 24 May 2020 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/spotify-obs-titre-chanson/main.jpg</image>
        <link>https://btor.fr/2020/05/24/spotify-obs-titre-chanson/</link>
        <guid isPermaLink="true">https://btor.fr/2020/05/24/spotify-obs-titre-chanson/</guid>
        
        <category>Spotify</category>
        
        <category>OBS</category>
        
        <category>Streaming</category>
        
        <category>Tutorial</category>
        
        
      </item>
    
      <item>
        <title>React Native: Retour d'expérience</title>
        <description>&lt;p&gt;Vous vous demandez surement pourquoi un développeur back-end parlerait d’une techno front-end ? @@LUL&lt;/p&gt;

&lt;p&gt;Tout simplement parce que nous aussi “les backs” on a le droit de s’amuser avec &lt;del&gt;vos technos de merde&lt;/del&gt;, euh javascript.
C’est bon je rigole @@SAD&lt;/p&gt;

&lt;p&gt;Depuis un peu plus d’un an je travaille dans une équipe mobile qui se compose de :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Deux développeurs iOS natif (Swift)&lt;/li&gt;
  &lt;li&gt;Deux développeurs Android natif (Kotlin)&lt;/li&gt;
  &lt;li&gt;Un développeur front-end (Javascript/Typescript React)&lt;/li&gt;
  &lt;li&gt;Et un développeur back-end (PHP Symfony, mon binôme)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;J’ai la chance d’avoir une équipe assez hétérogène qui touche un peu à tout, design, infrastructure (K8S, docker), GO, Flutter…
Tout le monde étend ses connaissances et le partage à l’équipe.&lt;/p&gt;

&lt;p&gt;A force de discuter des projets des uns et des autres (majoritairement axés sur du mobile, ça va de soit), je me suis dis qu’il serait temps que je me mette un peu à jour et que moi aussi je retente “l’expérience mobile”.
Je dis “Retente” parce que oui, j’ai déjà réalisé une ou deux applications mobiles Android il y a quelques années mais n’en parlons pas … @@LUL&lt;/p&gt;
&lt;h1 id=&quot;mais-pourquoi-reactnative-&quot;&gt;Mais pourquoi ReactNative ?&lt;/h1&gt;
&lt;p&gt;La question qui vient &lt;em&gt;normalement&lt;/em&gt; tout de suite à l’esprit c’est : &lt;strong&gt;MAIS POURQUOI REACT NATIVE ?&lt;/strong&gt; @@NO&lt;/p&gt;

&lt;p&gt;Dans un premier temps il est important de comprendre le besoin avant de choisir la techno que l’on utilisera (n’en déplaise aux haters de PHP @@WINK )&lt;/p&gt;

&lt;p&gt;Le besoin est simple, je cherche à développer une application mobile de rencontre @@RS.
Les critères pour développer cette application sont :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Une application cross-platform iOS / Android&lt;/li&gt;
  &lt;li&gt;Un temps de développement réduit (c’est un side-project ne l’oublions pas, je ne vais pas passer toutes mes journées dessus)&lt;/li&gt;
  &lt;li&gt;Un faible coût de mise en place/maintenance (je pars avec un budget de 0€ donc aucun service SaaS payant et aucun prestataire n’est envisageable).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;En prenant en compte ces critères, on peut commencer par lister quelques langages qui pourraient correspondre au besoin :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Tous les langages natifs : iOS/Swift, Android/Kotlin, WindowsPhone/C# @@LUL&lt;/li&gt;
  &lt;li&gt;Tous les langages web portés sur mobile (Ionic, NativeScript, PhoneGap, React Native)&lt;/li&gt;
  &lt;li&gt;Flutter&lt;/li&gt;
  &lt;li&gt;Et sûrement d’autres que je ne connais pas.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Première grosse différence, le &lt;strong&gt;natif&lt;/strong&gt; et le reste. Développer en natif permet d’être au plus proche du système que l’on vise, on s’assure d’avoir de meilleurs performances ainsi qu’un design system cohérent.
À côté de ça, le natif implique d’apprendre un nouveau langage pour chaque plateforme ciblée. Si je désire une application cross-platform iOS/Android je devrais apprendre Swift ET Kotlin.
Ce qui rompt un des besoins : &lt;code class=&quot;highlighter-rouge&quot;&gt;coût réduit en développement&lt;/code&gt;.
Développer une application native me prendrait trop de temps d’apprentissage (apprendre les langages, comprendre les stacks, tools chains etc) en plus de devoir développer deux applications vu que le code ne peut pas être partagé.&lt;/p&gt;

&lt;p&gt;Il reste donc Flutter et les langages web “portés” sur mobile.
Flutter c’est quoi ? &lt;a href=&quot;https://flutter.dev/&quot;&gt;Flutter&lt;/a&gt; c’est un framework mobile pour développer des applications cross platform en utilisant le langage &lt;a href=&quot;https://dart.dev/&quot;&gt;Dart&lt;/a&gt;.
C’est développé par Google, c’est beau et ça marche bien.
Problème, je ne connais pas Dart.
En soit ce n’est pas &lt;em&gt;vraiment&lt;/em&gt; un problème vu que je pourrais utiliser le même langage pour les deux plateformes iOS/Android mais ca m’ajoute une contrainte comparée aux autres solutions encore disponibles.
J’évince donc Flutter.&lt;/p&gt;

&lt;h4 id=&quot;quapporte-donc-les-langages-web-portés-sur-mobile-&quot;&gt;Qu’apporte donc les langages web “portés” sur mobile ?&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Contrairement aux langages natifs, on utilise qu’un seul langage (souvent javascript) pour réaliser une seule et même application iOS/Android.&lt;/li&gt;
  &lt;li&gt;Pour un développeur web (back ou front), le gap d’apprentissage est plus court vu qu’on ne se concentre pas sur le langage (qu’on connait déjà plus ou moins bien).&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;lequel-choisir-entre-ionic-phonegap-nativescript-et-reactnative-&quot;&gt;Lequel choisir entre Ionic, PhoneGap, NativeScript et ReactNative ?&lt;/h4&gt;
&lt;p&gt;Mon choix s’est porté sur ReactNative pour plusieurs raisons :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;L’envie d’utiliser React.&lt;/li&gt;
  &lt;li&gt;ReactNative a une grosse communauté.&lt;/li&gt;
  &lt;li&gt;NativeScript semble beaucoup trop récent pour le moment (mais prometteur).&lt;/li&gt;
  &lt;li&gt;ReactNative est très prisé sur le marché du développement (React aussi, ça tombe bien).&lt;/li&gt;
  &lt;li&gt;J’exclus PhoneGap et Ionic pour &lt;a href=&quot;https://blog.logrocket.com/react-native-vs-ionic/&quot;&gt;leurs différences d’implémentations&lt;/a&gt; face à ReactNative et NativeScript.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;cest-quoi-reactnative-&quot;&gt;C’est quoi ReactNative ?&lt;/h1&gt;
&lt;p&gt;ReactNative est un framework de développement mobile qui se base sur &lt;a href=&quot;https://fr.reactjs.org/&quot;&gt;React&lt;/a&gt; (bibliothèque web Javascript), l’idée c’est d’avoir la même API que React mais pour des composants mobiles.&lt;/p&gt;

&lt;p&gt;Les composants ReactNative sont transformés en composant natif de la plateforme mobile cible.
Par exemple, un composant ReactNative &lt;a href=&quot;https://reactnative.dev/docs/text&quot;&gt;Text&lt;/a&gt; sera transformé en composant &lt;a href=&quot;https://developer.android.com/reference/kotlin/android/widget/TextView&quot;&gt;TextView&lt;/a&gt; sur Android :&lt;/p&gt;

&lt;p&gt;ReactNative&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;Text&amp;gt;&lt;/span&gt;Coucou&lt;span class=&quot;nt&quot;&gt;&amp;lt;/Text&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;donnera sur Android&lt;/p&gt;
&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;TextView&lt;/span&gt;
 &lt;span class=&quot;na&quot;&gt;android:id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;@+id/text_view_id&quot;&lt;/span&gt;
 &lt;span class=&quot;na&quot;&gt;android:text=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Coucou&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;blockquote&gt;
  &lt;p&gt;ReactNative propose aussi une API pour les composants qui ne sont disponibles que sur une seule plateforme, c’est le cas pour &lt;a href=&quot;https://reactnative.dev/docs/toastandroid#__docusaurus&quot;&gt;ToastAndroid&lt;/a&gt; ou les &lt;a href=&quot;https://reactnative.dev/docs/settings&quot;&gt;SettingsIOS&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://www.reactnative.guide/3-react-native-internals/3.1-react-native-internals.html&quot;&gt;Plus d’infos sur le fonctionnement même de ReactNative ici&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;la-stack&quot;&gt;La stack&lt;/h1&gt;
&lt;p&gt;Pour commencer un projet ReactNative vous avez le choix entre ReactNative CLI et Expo. 
&lt;a href=&quot;https://expo.io/&quot;&gt;Expo&lt;/a&gt; est un kit d’outils pour développer des applications ReactNative plus rapidement, il propose des fonctionnalités en plus de ReactNative.&lt;/p&gt;

&lt;p&gt;ReactNative CLI est tout simplement… ReactNative…@@RS&lt;/p&gt;

&lt;h2 id=&quot;expo-expo-on-rentre-du-boulot&quot;&gt;Expo, expo, on rentre du boulot…&lt;/h2&gt;
&lt;p&gt;J’ai commencé le développement de l’application en utilisant Expo, l’objectif de celui-ci étant de me simplifier la vie, j’avais tout intérêt à l’utiliser.&lt;/p&gt;

&lt;p&gt;Expo s’impose grâce à deux grosses fonctionnalités :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Vous ne gérez plus vos builds, c’est Expo qui s’en charge ! Pas besoin d’xCode ou d’Android studio.&lt;/li&gt;
  &lt;li&gt;Vous disposez d’une plus large API contrairement à ReactNative CLI.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Avec Expo, on ne crée pas les builds en local, on demande à Expo de construire notre application pour nous et ça marche de la même façon pour créer les builds de production.
Malgré la promesse d’Expo, le début a été un peu chaotique pour moi, je trouvais les builds lents et surtout je suis dépendant d’un logiciel tiers pour pouvoir construire et déployer mon application.
La documentation est assez claire avec ça d’ailleurs :&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;When one of our building machines will be free, it’ll start building your app&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Un autre point frustrant avec Expo est qu’on ne peut pas utiliser de modules natif autre que ceux déjà proposés par Expo.
Par exemple, si vous désirez utiliser le bluetooth, vous ne pourrez pas @@SAD !
Vous devrez vous &lt;em&gt;éjecter&lt;/em&gt; d’Expo (&lt;a href=&quot;https://docs.expo.io/expokit/eject/&quot;&gt;en savoir plus sur le procédé d’éjection&lt;/a&gt;) et donc perdre le principal intérêt d’Expo.&lt;/p&gt;

&lt;p&gt;Expo parle d’ailleurs assez bien de ses limitations dans sa documentation, je vous invite à y jeter un oeil &lt;a href=&quot;https://docs.expo.io/introduction/why-not-expo/&quot;&gt;ici&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;J’ai donc rapidement pris la décision de ne pas utiliser Expo et de m’orienter vers une stack “classique” ReactNative CLI, ce qui allait forcément venir avec son lot d’avantages mais aussi d’inconvénients… nous y reviendrons plus tard.&lt;/p&gt;
&lt;h1 id=&quot;typejavascript-&quot;&gt;(?:Type|Java)script ?&lt;/h1&gt;
&lt;p&gt;Une autre question à se poser en utilisant ReactNative est sur le choix du langage. Javascript ou Typescript ?&lt;/p&gt;

&lt;p&gt;J’ai déjà eu l’occasion d’utiliser Typescript pour &lt;a href=&quot;https://github.com/bt0r/shellbot&quot;&gt;un projet perso&lt;/a&gt; et cette fois-ci j’ai choisi de ne pas l’utiliser @@WUT.
La raison va paraitre surement farfelue mais étant donné que je me lance dans un nouveau projet, il va y avoir beaucoup de nouvelles notions à apprendre et je ne veux pas m’imposer une complexité en plus.
Si l’envie me vient de passer l’application sur Typescript je pourrais toujours y venir plus tard, ça sera du boulot en plus mais c’est un “contrat” que je passe au début du projet.&lt;/p&gt;

&lt;h1 id=&quot;bien-débuter-avec-reactnative&quot;&gt;Bien débuter avec ReactNative&lt;/h1&gt;
&lt;p&gt;Ne connaissant pas du tout React (et donc ReactNative par la même occasion), j’avais un peu peur de mettre 6 mois à apprendre un nouveau framework sans rien produire de concret.
Fort heureusement, ReactNative est très accessible.
La logique globale autour des &lt;strong&gt;Composants&lt;/strong&gt; est très vite acquise et on arrive vite à créer nos premiers écrans @@SLT.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reactnative.dev/docs/getting-started&quot;&gt;La documentation&lt;/a&gt; est assez bien écrite, on trouve rapidement des bibliothèques qui répondent à nos besoins en fouillant sur google/github/npm…
Oui mais voilà, tout n’est pas rose @@JEANNE&lt;/p&gt;

&lt;p&gt;Parfois j’ai pu ressentir quelques frustrations, que ce soit par rapport à ReactNative ou par rapport à mes choix personnels.
Je vais vous faire un petit récapitulatif de ce que j’ai retenu en 4 mois de développement sur ReactNative.&lt;/p&gt;

&lt;h1 id=&quot;les-moins&quot;&gt;Les moins&lt;/h1&gt;
&lt;h4 id=&quot;la-stack-sans-expo&quot;&gt;La stack sans Expo&lt;/h4&gt;
&lt;p&gt;Bien que ce soit un choix de ne pas l’utiliser, Expo simplifie vraiment la vie pour la création des builds ou le déploiement.
Ne pas avoir Expo ca veut dire devoir configurer Android Studio et xCode. Comprendre pourquoi votre projet ne build pas sur xCode et surtout…&lt;strong&gt;COMPRENDRE&lt;/strong&gt; xCode @@JEANNE.
Avec Android studio je n’ai pas eu de problème vu que la base de l’IDE (IntelliJ) est la même pour tous les langages (PHP, JS, C++, Ruby …) et que globalement il n’y a pas grand-chose à faire, ça marche du premier coup.
Par contre sur xCode j’ai vraiment du mal.
Les différences entre projet et workspace, l’interface pas vraiment intuitive, je ne m’attendais pas à ça et malheureusement, il m’est impossible de passer outre @@SAD&lt;/p&gt;

&lt;p&gt;Une fois le projet bien paramétré avec vos premiers builds de lancés, vous rencontrerez un autre problème : &lt;strong&gt;L’ajout de bibliothèques&lt;/strong&gt;.
Étant livré à vous-même sans Expo, vous devrez installer vous-même les bibliothèques, ça veut dire devoir modifier des fichiers natifs dont vous n’avez aucune idée de comment ils fonctionnent et c’est parfois pénible.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://rnfirebase.io/&quot;&gt;React Native Firebase&lt;/a&gt; fait partie des bibliothèques qui m’ont bien fait dresser les poils lors de la phase d’installation.&lt;/p&gt;

&lt;h4 id=&quot;redux&quot;&gt;Redux&lt;/h4&gt;
&lt;p&gt;Pour ceux qui ne sont pas familier avec l’univers React, Redux est une bibliothèque fortement utilisée qui permet de gérer les états (les states) de notre application.
Redux est populaire en partie à cause des “limitations” de React.
En effet, les &lt;strong&gt;props&lt;/strong&gt; (propriétés de notre composant React) ne sont disponibles qu’en lecture, les &lt;strong&gt;states&lt;/strong&gt; eux, ne sont accessibles qu’au sein même du composant.
Vous voyez le problème ? Si j’ai un composant qui doit partager son état à un autre composant, comment fais-je ?&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;REDUX&lt;/strong&gt; bien sûr !&lt;/p&gt;

&lt;p&gt;Suite à cette problématique j’aurais dû naturellement me diriger vers Redux mais finalement j’ai décidé de ne pas l’utiliser.
Grâce au &lt;a href=&quot;https://fr.reactjs.org/docs/context.html&quot;&gt;Context&lt;/a&gt; React, j’ai pu éviter d’utiliser Redux afin d’obtenir un état “global” à mon application.
Ca fonctionne très bien mais je n’arrive pas à être entièrement satisfait de l’implémentation.
Je me retrouve avec un composant “global” qui contient les différents états que je partage aux composants enfants (principalement l’utilisateur actuellement connecté) et je pense qu’il y a mieux à faire.
Je n’ai pas encore eu le temps de vraiment tester une implémentation concrète avec Redux mais j’aime bien le cadre qu’il impose avec les actions/reducers/store.
C’est dans ma todo-list de chose à tester et pourquoi pas à implémenter dans le projet.&lt;/p&gt;

&lt;h4 id=&quot;architecture-du-projet&quot;&gt;Architecture du projet&lt;/h4&gt;
&lt;p&gt;À titre personnel, j’aime être “guidé” quand je commence un nouveau projet sur une stack que je ne connais pas.
ReactNative n’arrive pas avec un cadre de développement mais juste avec une API et des commandes système pour créer/construire son projet.
On se retrouve avec juste un répertoire &lt;em&gt;src&lt;/em&gt; à remplir sans aucunes lignes directrices, c’est dommage.&lt;/p&gt;

&lt;h4 id=&quot;la-documentation-officielle-et-ses-redirections&quot;&gt;La documentation officielle et ses redirections&lt;/h4&gt;
&lt;p&gt;J’en ai parlé dans un de mes tweet &lt;a href=&quot;https://twitter.com/biiitor/status/1252688090503819264&quot;&gt;ici&lt;/a&gt; mais s’il y a bien un truc qui me rend dingue c’est qu’une bonne partie de l’API n’est plus supporté par facebook directement mais par la communauté.
Jusque-là pourquoi pas, ça prouve que la communauté est active.
Le souci vient du fait qu’on se retrouve souvent à devoir naviguer entre les différentes documentations, officielles ou communautaires et à être constamment redirigé. Pénible x2 @@TUBAIZ&lt;/p&gt;

&lt;h4 id=&quot;functional-vs-class-component&quot;&gt;Functional VS Class component&lt;/h4&gt;
&lt;p&gt;En React il est possible d’écrire ses composants de deux manières :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;En fonction
    &lt;div class=&quot;language-jsx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Welcome&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;Hello, &lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;En classe
    &lt;div class=&quot;language-jsx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Welcome&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;React&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;Hello, &lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;h1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;Historiquement les composants sous forme de fonction n’avaient pas accès au &lt;a href=&quot;https://fr.reactjs.org/docs/state-and-lifecycle.html&quot;&gt;cycle de vie du composant&lt;/a&gt;.
Ce qui veut dire que dès qu’on voulait utiliser des méthodes du cycle de vie comme &lt;strong&gt;componentDidMount&lt;/strong&gt;, on devait obligatoirement passer par des classes.
Mais depuis l’arrivée des &lt;a href=&quot;https://fr.reactjs.org/docs/hooks-intro.html&quot;&gt;Hooks&lt;/a&gt; avec React 16.8 ce n’est plus vrai, on peut désormais utiliser &lt;a href=&quot;https://fr.reactjs.org/docs/hooks-state.html&quot;&gt;useState&lt;/a&gt; et &lt;a href=&quot;https://fr.reactjs.org/docs/hooks-effect.html&quot;&gt;useEffect&lt;/a&gt; au sein d’un composant fonctionnel.
Personnellement je trouve les classes plus digestes que les fonctions avec hooks mais c’est dû au fait que j’ai plus souvent travaillé avec des langages fortement typés et parce que je n’aime pas la &lt;em&gt;magie&lt;/em&gt; qu’offre les hooks.
React semble mettre en avant les fonctions avec hooks, ce qui me fait réfléchir quant à l’utilisation des classes au sein de mon projet.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;les-animations&quot;&gt;Les animations&lt;/h4&gt;
&lt;p&gt;Bien qu’une bonne partie des feuilles de style CSS soit portées sous ReactNative, il n’y a pas tout !
Les animations en font parties.
ReactNative propose une &lt;a href=&quot;https://reactnative.dev/docs/animations&quot;&gt;API animation&lt;/a&gt; assez complète mais un peu dure à prendre en main quand on cherche à faire des animations un peu complexe.
J’ai tout de même réussi à réaliser deux ou trois petites animations (bounce, rotation, etc) mais ça risque de prendre un peu de temps avant de bien maitriser l’API.&lt;/p&gt;

&lt;h1 id=&quot;les-plus&quot;&gt;Les plus&lt;/h1&gt;
&lt;h4 id=&quot;la-stack-sans-expo-bis&quot;&gt;La stack sans Expo (bis)&lt;/h4&gt;
&lt;p&gt;Ce choix a été difficile au départ mais je ne regrette pas, certes il est plus difficile de devoir tout configurer soit-même en mettant les mains dans xCode mais le fait de ne pas dépendre d’Expo me permet de pouvoir créer mes builds quand je le souhaite sans attendre qu’Expo s’en charge.
Je peux aussi ajouter les modules que je désire sans me soucier de savoir si ce que je veux faire est supporté par Expo ou non et ça, c’est quand même très plaisant.&lt;/p&gt;

&lt;h4 id=&quot;le-hot-reload&quot;&gt;Le hot reload&lt;/h4&gt;
&lt;p&gt;Rien d’extra-ordinaire de ce côté là (disponible dans pratiquement toutes les technos modernes) mais c’est toujours bien de le noter.
C’est une fonctionnalité qu’on apprécie vraiment quand on fait du front : Le &lt;strong&gt;hot-reload&lt;/strong&gt; ou “rechargement à chaud” pour les puristes.
La modification de notre code source modifie directement notre application sur le téléphone.
Pas besoin de recréer un build ou de recharger l’application.
Très pratique quand on travaille sur les vues de notre application @@SLT.&lt;/p&gt;

&lt;h4 id=&quot;css&quot;&gt;CSS&lt;/h4&gt;
&lt;p&gt;Un des gros avantages de ReactNative est le fait qu’une bonne partie des feuilles de style CSS soient disponibles.
On peut donc profiter des flexbox pour gérer le positionnement de nos blocs et ça c’est &lt;strong&gt;VRAIMENT&lt;/strong&gt; cool @@BEER !
Pas de GridBagLayout, ConstraintLayout, etc @@SLT
L’écriture du CSS passe par une abstraction sous forme d’objet Javascript mais correspond globalement à du CSS en camelCase.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/react-native-retour-experience/css-react-native.png&quot; alt=&quot;&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;rendu-iosandroid-identique&quot;&gt;Rendu iOS/Android identique&lt;/h4&gt;
&lt;p&gt;Ca peut paraitre bête comme argument mais c’est pourtant décisif quand on utilise un framework comme ReactNative.
Après avoir travaillé intégralement sur un émulateur Android, j’ai voulu exécuter mon application sur iOS pour vérifier si le rendu/comportement était différent sur iOS.
J’ai été agréablement surpris de voir qu’il n’y avait pas tellement de différences, en dehors de quelques petits bogues sur des ombres en utilisant les &lt;a href=&quot;https://reactnative.dev/docs/shadow-props&quot;&gt;shadow props&lt;/a&gt;, le rendu est identique sur les deux plateformes.
Il faut néanmoins comprendre comment fonctionnent les plateformes de destination et notamment iOS avec l’arrivée du &lt;del&gt;motch&lt;/del&gt; notch @@LUL
Vous devrez forcément utiliser les &lt;a href=&quot;https://reactnative.dev/docs/safeareaview&quot;&gt;SafeAreaView&lt;/a&gt; afin que votre vue ne se retrouve pas sous le notch (ou alors ajuster celle-ci).&lt;/p&gt;

&lt;h4 id=&quot;utilisation-des-bonnes-bibliothèques&quot;&gt;Utilisation des bonnes bibliothèques&lt;/h4&gt;
&lt;p&gt;Bien que Redux manque à la liste, j’ai tout de même réussi à trouver mon bonheur dans plusieurs bibliothèques qui correspondent entièrement à mes besoins :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://reactnavigation.org/&quot;&gt;React Navigation&lt;/a&gt; pour gérer la navigation dans l’application.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://react-native-elements.github.io/react-native-elements&quot;&gt;React Native Elements&lt;/a&gt; pour la gestion du design system.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://rnfirebase.io/&quot;&gt;React Native Firebase&lt;/a&gt; pour l’interaction avec Firestore, Firebase Storage et Firebase Auth.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/crazycodeboy/react-native-splash-screen&quot;&gt;React Native Splash Screen&lt;/a&gt; pour l’intégration d’un splash screen.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/fnando/i18n-js&quot;&gt;i18n.js&lt;/a&gt; pour l’internationalisation.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/manuelbieh/geolib&quot;&gt;Geolib&lt;/a&gt; pour les calculs et conversion de coordonnées GPS.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/sunng87/node-geohash&quot;&gt;nGeoHash&lt;/a&gt; pour la création de hash de coordonnées GPS.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;maquettes&quot;&gt;Maquettes&lt;/h4&gt;
&lt;p&gt;Au tout début du projet j’ai commencé par réaliser mes premiers écrans sans aucune maquette.
Ca fonctionnait pas mal sauf que parfois je “bloquais” sur la création de l’interface.
En discutant avec un collègue, je me suis rendu compte que ça serait pas mal de réaliser des maquettes dès le début afin que ca m’aide à la réalisation de l’application.
J’ai commencé à utiliser &lt;a href=&quot;https://www.figma.com&quot;&gt;Figma&lt;/a&gt; et ça m’a clairement simplifier la vie !
Je vous le recommande vivement si vous cherchez un outil pour créer vos maquettes web ou mobile.&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;En conclusion c’est très positif ! ReactNative se veut facile à prendre en main, d’autant plus si vous utiliser Expo.
ReactNative est une solution pérenne pour réaliser vos applications mobiles cross-platform, la communauté est grande et vous trouverez toujours la bibliothèque dont vous avez besoin.&lt;/p&gt;

&lt;p&gt;Si vous hésitez à utiliser ReactNative, posez-vous les mêmes questions que j’ai pu me poser :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Quelle techno correspond le mieux à mon besoin ?&lt;/li&gt;
  &lt;li&gt;Quel langage m’intéresse le plus ou me permettrait d’aller plus vite dans la réalisation de mon application ?&lt;/li&gt;
  &lt;li&gt;Est-ce que je disposerai des bonnes bibliothèques ?&lt;/li&gt;
  &lt;li&gt;Quel est mon budget et quel est le temps que je veux allouer au développement ?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;En fonction des réponses à celles-ci, vous pourrez vous diriger vers du ReactNative, du Flutter ou du natif @@KJ&lt;/p&gt;
</description>
        <pubDate>Fri, 15 May 2020 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/react-native-retour-experience/main.jpg</image>
        <link>https://btor.fr/2020/05/15/react-native-retour-experience/</link>
        <guid isPermaLink="true">https://btor.fr/2020/05/15/react-native-retour-experience/</guid>
        
        <category>React</category>
        
        <category>React native</category>
        
        <category>Javascript</category>
        
        <category>Developpement</category>
        
        <category>Mobile</category>
        
        
      </item>
    
      <item>
        <title>Noteflix: Une extension firefox pour voir les notes Allociné sur Netflix</title>
        <description>&lt;p&gt;Comme bon nombre d’entre vous, je profite du confinement pour avancer sur des projets personnels.
Jeudi dernier, après avoir passé près de 4h à coder sur un projet personnel en react-native, je me suis dis :&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt; Et si je me mettais une petite série Netflix ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ni une, ni deux, j’ouvre Netflix et commence à chercher LA série qui va me tenir en haleine sur les prochains jours.
Problème, il m’arrive souvent de tomber sur des séries un peu naze comme &lt;a href=&quot;http://www.allocine.fr/series/ficheserie_gen_cserie=24219.html&quot;&gt;Marianne&lt;/a&gt;, cette bouse comiquo-horrifique @@NO.&lt;/p&gt;

&lt;p&gt;C’est à ce moment précis qu’il me vint à l’esprit une idée de génie&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Ça pourrait être pas mal d’avoir un meilleur indicateur de notes des films et séries netflix !&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/l0LEIXSRRuv9QQIRNI/giphy.gif&quot; alt=&quot;&quot; class=&quot;center-image&quot; /&gt;
&lt;em&gt;21h, la décision est prise: Je me lance dans le développement d’une extension firefox pour récupérer les notes &lt;a href=&quot;https://allocine.fr&quot;&gt;allociné&lt;/a&gt; afin de les intégrer à Netflix.&lt;/em&gt;&lt;/p&gt;

&lt;h1 id=&quot;les-premiers-balbutiements&quot;&gt;Les premiers balbutiements&lt;/h1&gt;
&lt;p&gt;Quand on commence un nouveau projet, on a toujours envie de commencer fort, d’utiliser la dernière techno à la mode, de ne pas réfléchir et “pisser du code” vite, très vite !&lt;/p&gt;

&lt;p&gt;C’est pourtant tout ce qu’il ne faut pas faire.
Le plus dur c’est justement de bien réfléchir aux choix techniques, aux risques, à pondérer chaque technos pour ses avantages et inconvénients etc..&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;BREF&lt;/strong&gt;, c’est chiant mais on a souvent pas le choix !&lt;/p&gt;

&lt;p&gt;…&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;SAUF&lt;/strong&gt; quand tu codes une extension Firefox pour un side project dont tu te contrefous de la dernière techno à la mode puisque de toute facon tu feras au mieux du Typescript transpilé pour aller dans un environement cloisonné. @@LUL&lt;/p&gt;

&lt;p&gt;Je n’avais donc pas beaucoup de questions à me poser, je savais que j’allais partir sur du Javascript ou au mieux du Typescript et que le code ne serait pas très complexe étant donné que ça serait qu’un simple appel ajax à l’API d’Allociné.
Du moins, c’est ce que je croyais @@SAD&lt;/p&gt;

&lt;p&gt;J’avais déjà réalisé une petite extension Firefox sans l’avoir publié sur le store de Mozilla, je partais donc avec un léger avantage de ce côté là. 
Par contre, je n’avais jamais regardé de près comment fonctionne le site d’allociné. 
Ce n’est pas un site que je regarde régulièrement mais c’est en général le premier que je vais voir quand je recherche une information sur un film ou une série (d’ou mon choix de l’intégrer à Netflix)&lt;/p&gt;

&lt;p&gt;J’ai donc commencé ce side-project en me faisant un petit repository GitHub avec un bootstrap d’extension pour juste faire mes premiers crash-tests.
Avant de m’attaquer à Netflix, je voulais m’assurer qu’il était possible de récupérer les notes de films/séries depuis l’API d’allocine.&lt;/p&gt;

&lt;p&gt;Je pars convaincu, serein, frais comme un gardon, bref j’suis chaud @@PROUD&lt;/p&gt;

&lt;p&gt;J’arrive sur le site d’allociné et je commence à investiguer un peu ce qu’il se passe sur le site:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;F12, onglet réseaux, est ce qu’il y a des call XHR au chargement de la page ? Nope ! @@NO&lt;/li&gt;
  &lt;li&gt;Je regarde les différents input afin de voir si certains marchent en Ajax, bingo ! celui de la barre de recherche fait un call ajax @@HEY&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/search_allocine.png&quot; alt=&quot;Barre de recherche Allociné&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Voyons un peu ce que ça donne en recherchant &lt;a href=&quot;http://www.allocine.fr/_/autocomplete/breaking%20bad&quot;&gt;Breaking bad&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;results&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;entity_type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;series&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;entity_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;3517&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;series.series._.3517&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;label&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Breaking Bad&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;facet&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;series&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;original_label&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Breaking Bad&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text_search_data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;BrBa&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;viewcount&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;975962&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;irankpopular&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;browsable&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;last_release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3517&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2008&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;is_program&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;poster_path&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;pictures&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;3956503.jpg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;creator_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Vince Gilligan&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;showrunner_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Vince Gilligan&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;thumbnail&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;fr.web.img6.acsta.net&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;c_75_100&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;pictures&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;3956503.jpg&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;scores&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rating_score&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;weekly_rank_score&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;all_time_rank_score&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;genres&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Drama&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tags&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Series.Type.Series&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Series.Status.Ended&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Info.Genre.Drama&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Format.Color.Color&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;last_updated_at&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2020-03-27T08:16:53.320000+01:00&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;index&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;search_ac_20200408070105&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;search&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;series.series._.3517&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;23897.488&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sponsored&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;On remarque que le format de réponse est assez light, 3 champs dont un qui nous intéresse &lt;code class=&quot;highlighter-rouge&quot;&gt;results&lt;/code&gt;, qui contient les objets répondant à notre recherche.
Ces objets peuvent être des films, séries ou des personnalités. C’est déjà une première étape à garder en tête vu qu’on ne voudra que ce qui est films ou séries.&lt;/p&gt;

&lt;p&gt;On y trouve aussi un objet &lt;code class=&quot;highlighter-rouge&quot;&gt;scores&lt;/code&gt;, intéressant !&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;scores&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rating_score&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;weekly_rank_score&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;all_time_rank_score&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Parfait, je regarde donc à quoi correspondent ces scores, voir si ils correspondent à ce que je recherche (en l’occurence, les notes des spectateurs).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/scores_allocine.png&quot; alt=&quot;Score allociné&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Jeanne @@JEANNE ! Au secours ! D’où proviennent ces scores ? J’ai beau tester avec 2 ou 3 autres films/séries, aucune corrélation n’est envisageable.&lt;/p&gt;

&lt;p&gt;Je continue donc mon investigation en fouinant sur le site mais rien n’y fait, je ne trouve aucune donnée viable via une API. 
Je décide donc de regarder un peu sur google et je tombe sur le blog d’un certains &lt;a href=&quot;https://wiki.gromez.fr/dev/api/allocine_v3&quot;&gt;Gromez qui parle de l’API d’Allociné&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;L’article est vieux (2013) mais très intéressant, il parle des différents endpoint qu’il a pu trouver en regardant le comportement de l’app mobile via un &lt;a href=&quot;https://fr.wikipedia.org/wiki/Analyseur_de_paquets&quot;&gt;analyseur de paquet&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Malheureusement, l’article étant daté, les liens et token fournis le sont aussi. 
Je décide donc à mon tour de regarder comment se comporte l’application mobile.&lt;/p&gt;

&lt;h1 id=&quot;analyse-de-paquet&quot;&gt;Analyse de paquet&lt;/h1&gt;
&lt;p&gt;En général quand je cherche à avoir des infos sur une API, je regarde comment l’application mobile fonctionne. 
Pour ce faire, je me charge de capturer les paquets IP qui sortent de mon téléphone et je regarde ce qui concerne l’application.&lt;/p&gt;

&lt;p&gt;Auparavant j’utilisais BitShark, une application de capture de flux IP qui me permettait de générer un fichier .pcap que j’ouvrais ensuite dans Wireshark.
Ca marche mais c’est vite chiant de devoir transférer les .pcap sur un ordinateur pour ensuite faire l’analyse.
De plus, cette application ne semble plus être dans le store Android.&lt;/p&gt;

&lt;p&gt;En fouinant le store je tombe sur &lt;a href=&quot;https://play.google.com/store/apps/details?id=com.egorovandreyrm.pcapremote&amp;amp;hl=fr&quot;&gt;PCAPRemote&lt;/a&gt; qui a un fonctionnement très basique: il permet de faire de la capture de packet en utilisant sshDump.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt; SSHDump ? Kézako ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Sshdump va nous permettre de capturer des paquets non pas depuis notre propre machine mais depuis une machine hôte, en l’occurence mon téléphone.
Le téléphone fait office de serveur et mon wireshark de client, fini les envoies de fichier .pcap d’un device à un autre @@SLT !&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/pcap_remote.png&quot; alt=&quot;PCAPRemote&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;L’interface est assez simple, le bouton “play” permet de lancer une capture global du smartphone tandis que le bouton “Play 1” permet de choisir une application spécifique. 
Pratique pour éviter de filtrer à posteriori sur Wireshark !&lt;/p&gt;

&lt;p&gt;Il suffit ensuite de renseigner l’ip et port de l’hôte (le téléphone) sur wireshark en utilisant l’option &lt;code class=&quot;highlighter-rouge&quot;&gt;SSH remote capture: sshdump&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/wireshark_sshdump.png&quot; alt=&quot;Wireshark SSHDump&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Wireshark reçoit désormais les trames IP, j’en profite pour filtrer sur le protocole HTTP afin d’éviter d’être flooder de requêtes inutiles.
Pendant que mon Wireshark tourne, je manipule un peu l’application allociné afin du générer du traffic, je recherche, click sur des films, change de pages etc.&lt;/p&gt;

&lt;p&gt;Et qu’est ce qui apparait dans Wireshark ? @@LUL&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/search_wireshark.png&quot; alt=&quot;PCAPRemote&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;C’est exactement le même endpoint qui était utilisé dans la barre de recherche du site allociné. 
Dans la capture wireshark je retrouve aussi des appels à des endpoint très similaires de ceux décrit dans l’article de Gromez mais qui ne m’apporte pas les informations que je désire.&lt;/p&gt;

&lt;p&gt;A l’exception d’un, qui lui est intéressant:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://api.allocine.fr/rest/v3/search?filter=movie%2Ctvseries%2Ctheater%2Cperson%2Cvideo%2Cnews%2Cprogram&amp;amp;q=breaking+bad&amp;amp;partner=100ED1DA33EB&amp;amp;mediafmt=mp4-best&amp;amp;profile=large&amp;amp;count=6&amp;amp;format=json&amp;amp;page=1&amp;amp;sed=20200409&amp;amp;sig=%2FCVNs8c77PzCoWiG6WTOoiOa9L4%3D&quot;&gt;http://api.allocine.fr/rest/v3/search?filter=movie%2Ctvseries%2Ctheater%2Cperson%2Cvideo%2Cnews%2Cprogram&amp;amp;q=breaking+bad&amp;amp;partner=100ED1DA33EB&amp;amp;mediafmt=mp4-best&amp;amp;profile=large&amp;amp;count=6&amp;amp;format=json&amp;amp;page=1&amp;amp;sed=20200409&amp;amp;sig=%2FCVNs8c77PzCoWiG6WTOoiOa9L4%3D
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ce endpoint contient les scores dont j’ai besoin et le lien de la fiche du film ou de la série, c’est plutôt pas mal !&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Problème:&lt;/strong&gt; L’URL changera dans le temps, le code &lt;code class=&quot;highlighter-rouge&quot;&gt;partner&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;sig&lt;/code&gt; sont une sorte de credential ou d’identifiant,
c’est un des constats dont faisait l’objet Gromez dans son article.&lt;/p&gt;

&lt;p&gt;Plus mon investigation dure, plus je me rend compte que je passe beaucoup de temps sur quelque chose qui sera amené à évoluer avec le temps. 
Du coup, que faire ? utiliser l’API pour récupérer les data ? scraper la page ? dans les deux cas c’est soumis à modifications dans le futur…&lt;/p&gt;

&lt;h1 id=&quot;la-première-release&quot;&gt;La première release&lt;/h1&gt;
&lt;p&gt;J’ai finalement pris la décision de commencer le développement de l’extension en partant sur un workflow “simple”:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;⬇️&lt;strong&gt;Netflix:&lt;/strong&gt; Récupération du nom du film ou de la série depuis le &lt;a href=&quot;https://fr.wikipedia.org/wiki/Document_Object_Model&quot;&gt;DOM&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;⬇️&lt;strong&gt;Allociné:&lt;/strong&gt; Récupération de l’ID et du type (série ou film) depuis le call API de la barre de recherche. 
Il est à noter qu’au moment où je récupère le nom de la vidéo sur Netflix, je n’ai pas de call XHR ou d’information dans le DOM qui me permet de récupèrer le type de la vidéo (film/série).&lt;/li&gt;
  &lt;li&gt;⬇️&lt;strong&gt;Allociné:&lt;/strong&gt; Récupération de la note en visitant la fiche du film/série (scraping simple)&lt;/li&gt;
  &lt;li&gt;⬇️&lt;strong&gt;NoteFlix:&lt;/strong&gt; Création du DOM avec le score Allociné sous forme de pourcentage et insertion de l’objet DOM dans la page Netflix.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Le workflow fonctionne mais une chose me tracasse… 
J’ai besoin de connaitre le comportement de l’utilisateur sur Netflix afin de récupérer le DOM qui contient le nom de la vidéo. 
Si je click sur une vidéo, je veux que le programme cherche la note allociné liée à cette vidéo, pas toutes celles de la page.&lt;/p&gt;

&lt;p&gt;Il y a plusieurs façon de voir les informations d’une série ou d’un film sur Netflix&lt;/p&gt;

&lt;p&gt;En naviguant sur le “board” Netflix
&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/jawBone_netflix.png&quot; alt=&quot;Breaking bad - Netflix&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ou en allant directement sur la fiche descriptive de la vidéo
&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/jawBone_main_netflix.png&quot; alt=&quot;Breaking bad - Netflix&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;La question à se poser est donc: Comment déclencher la récupération de la note en fonction du comportement de l’utilisateur ?
Qu’il charge une page ou qu’il click sur une vidéo, le code devra être déclenché à ce moment là.&lt;/p&gt;

&lt;h3 id=&quot;mutationobserver&quot;&gt;MutationObserver&lt;/h3&gt;
&lt;p&gt;La première idée qui me vient à l’esprit est d’utiliser le &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Web/API/MutationObserver&quot;&gt;MutationObserver&lt;/a&gt;.
Le &lt;code class=&quot;highlighter-rouge&quot;&gt;MutationObserver&lt;/code&gt; a pour but d’envoyer des évènements dès que le DOM de la page est modifié.&lt;/p&gt;

&lt;p&gt;Ce qui donnerait quelque chose du genre:&lt;/p&gt;
&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// Configuration de l'observer&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;observerConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;childList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Déclenchera un événement si un enfant du noeud est ajouté ou supprimé&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;subtree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Déclenchera un évènement si les noeuds enfant sont aussi à observer&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;characterData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findRatings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;mutationsList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;// Cette fonction est appelée uniquement quand un évènement est déclenché par le MutationObserver&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;observer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MutationObserver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findRatings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// On lui passe la fonction à appeler quand les évènements se délenchent&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;observer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;observerConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// On lui dit d'écouter sur l'objet 'document' (en gros toute la page)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Parfait, on a notre MutationObserver de prêt, il va nous envoyer des évènements pour déclencher notre code mais il y a toujours quelque chose qui ne va pas…
Netflix est développé avec React, la page est donc dynamique et va changer très souvent.
Le risque ? Une surcharge d’évènements ! Si on écoute toutes les modifications du document, on va vite se retrouver avec des évènements déclenchés alors qu’ils ne nous seront d’aucune utilité.
Par exemple si je glisse ma souris sur mon avatar, un menu apparaitra et un évènement sera déclenché alors que j’aimerais n’avoir que les évènement qui touche aux vidéos.&lt;/p&gt;

&lt;p&gt;Peaufinons un peu notre MutationObserver:&lt;/p&gt;
&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;observer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'[role=main]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;observerConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On a donc restreint l’observer à n’écouter que ce qu’il se passe dans le bloc principal de Netflix (celui qui contient toutes les vidéos).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/mainview_netflix.png&quot; alt=&quot;Main view - Netflix&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;En plus de restreindre l’observer à écouter un noeud DOM spécifique, on va aussi devoir filtrer sur les évènements reçus.&lt;/p&gt;

&lt;p&gt;Voyons pourquoi avec une illustration simple:&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;role=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;video&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;video&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;video&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;helper&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;footer&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En écoutant &lt;code class=&quot;highlighter-rouge&quot;&gt;div[role=main]&lt;/code&gt; l’observer enverra des évènements pour chaque ajout/suppression/modifications de ses enfants.
Si une des &lt;code class=&quot;highlighter-rouge&quot;&gt;div.video&lt;/code&gt; change, un évènement sera déclenché et de même pour &lt;code class=&quot;highlighter-rouge&quot;&gt;div.helper&lt;/code&gt; ou &lt;code class=&quot;highlighter-rouge&quot;&gt;div.footer&lt;/code&gt; alors qu’ils ne nous intéressent pas.&lt;/p&gt;

&lt;p&gt;Quand le MutationObserver est déclenché, il renvoie une liste de &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Web/API/MutationRecord&quot;&gt;MutationRecord&lt;/a&gt;.
On peut donc encore un peu plus affiner notre code afin qu’il n’accepte que les évènements issus de noeuds qui nous intéressent:&lt;/p&gt;
&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findRatings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;mutationsList&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;c1&quot;&gt;// Cette fonction est appelée uniquement quand un évènement est déclenché par le MutationObserver&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;mutationRecord&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;mutationsList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mutationRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'video'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Do something ...&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;le-cache&quot;&gt;Le cache&lt;/h3&gt;
&lt;p&gt;Maintenant que le code se déclenche bien au bon moment je me confronte à un autre problème, celui des appels multiples à allociné.
Chaque fois que la page est modifiée je vais devoir appeler Allociné pour récupérer les informations de la vidéo, un appel HTTP pouvant prendre du temps, ne serait-ce pas judicieux de faire un système de cache ?
Je pourrais y stocker les informations et rating liées aux vidéos, si le cache contient la donnée je l’affiche directement et sinon je demande à Allociné l’information.&lt;/p&gt;

&lt;p&gt;Il y a plusieurs moyens de gérer un cache coté navigateur, on peut:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Créer une classe javascript très basique qui s’occuperait de garder les données en mémoire.&lt;/li&gt;
  &lt;li&gt;Créer un &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Mozilla/Add-ons/WebExtensions/API/cookies/set&quot;&gt;cookie&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Utiliser le &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Web/API/Window/localStorage&quot;&gt;localStorage&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Utiliser le &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Web/API/Window/sessionStorage&quot;&gt;sessionStorage&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Le &lt;strong&gt;Cookie&lt;/strong&gt; étant généralement utilisé pour contenir de l’information qui sera ensuite envoyer au serveur (sessionID, authentification etc.) et n’ayant aucun serveur pour NoteFlix, nous pouvons l’évincer d’office.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;LocalStorage&lt;/strong&gt; nous permet de stocker de la donnée qui perdurera dans le temps, si on coupe et relance son navigateur, le &lt;code class=&quot;highlighter-rouge&quot;&gt;localStorage&lt;/code&gt; sera toujours à l’état avant fermeture du navigateur. 
Il pourrait convenir à notre besoin mais il faudrait prendre en compte le fait qu’entre chaque version de l’extension, la donnée qui est en cache coté client peut potentiellement être au format de versions antérieurs. 
Si le model du cache change, il va falloir le purger ou gérer des migrations, un sytème de rétention etc.. ca risque d’ajouter une complexité supplémentaire pour une première version.&lt;/p&gt;

&lt;p&gt;Il nous reste donc la création d’une classe et l’utilisation de &lt;strong&gt;SessionStorage&lt;/strong&gt;. 
Pour la première release de l’extension je suis parti sur une classe simple puis j’ai rapidement modifiée cette classe pour qu’elle se charge de déléguer la sauvegarde des données au SessionStorage.&lt;/p&gt;

&lt;p&gt;Le &lt;strong&gt;SessionStorage&lt;/strong&gt; n’acceptant que du clé-valeur, ma classe ne se charge que de serializer/désérializer en JSON, voilà comment ca se présente:&lt;/p&gt;
&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;md5&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'blueimp-md5'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Cache&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'noteflix_'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;nx&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;videoInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;videoInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hashId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;videoInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;sessionStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;videoInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hashId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;videoInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;videoInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;kd&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;videoName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;hashId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;videoName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sessionStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;hashId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;nx&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;videoName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;hashId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;videoName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sessionStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;hashId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h1 id=&quot;le-verdict&quot;&gt;Le verdict&lt;/h1&gt;
&lt;p&gt;Une fois toute la logique réalisée, j’ai publié l’extension sur &lt;a href=&quot;https://addons.mozilla.org/fr/firefox/addon/noteflix/&quot;&gt;le store de Firefox&lt;/a&gt; puis j’ai rapidement remarqué que le &lt;a href=&quot;#mutationobserver&quot;&gt;MutationObserver&lt;/a&gt; posait problème.
Parfois l’extension se retrouvait à recevoir 2 ou 3 évènements simultanées pour le même noeud DOM, ou parfois elle ne recevait aucun évènement, du coup elle n’affichait rien.&lt;/p&gt;

&lt;p&gt;Pas top pour un utilisateur qui s’attend à avoir un score d’affiché …&lt;/p&gt;

&lt;p&gt;J’ai donc décidé de retirer le MutationObserver le temps de trouver une solution plus propre et de passer par un simple &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval&quot;&gt;setInterval&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Manager&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'./dom/Manager'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;manager&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Manager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;manager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;refreshRatings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;L’avantage de passer par &lt;code class=&quot;highlighter-rouge&quot;&gt;setInterval&lt;/code&gt;, c’est qu’on ne soucis plus de la modification du DOM (donc du code en moins).
L’inconvénient c’est que toutes les 2 secondes une partie du code est executée pour vérifier si l’on doit chercher la note allociné ou non.&lt;/p&gt;

&lt;p&gt;Le contrat est rempli, l’extension fait plutôt bien son job 🎉&lt;/p&gt;

&lt;p&gt;J’ai encore quelques nice-to-have à intégrer à l’extension comme par exemple le fait de récupérer le rating allociné directement depuis &lt;a href=&quot;https://developers.google.com/search/docs/guides/intro-structured-data&quot;&gt;les données structurées&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/noteflix-allocine-netflix/structured_data_allocine.png&quot; alt=&quot;Données structurées - Allociné&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ce qui m’éviterait de récupérer la note en scrapant la page.&lt;/p&gt;

&lt;p&gt;J’envisage aussi de porter l’extension sur Chrome parceque tout le monde n’utilise pas firefox…&lt;/p&gt;

&lt;h3 id=&quot;liens&quot;&gt;Liens&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://addons.mozilla.org/fr/firefox/addon/noteflix/&quot;&gt;Télécharger l’extension pour Firefox&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/bt0r/NoteFlix&quot;&gt;Code source&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt;
&lt;a href=&quot;https://chrome.google.com/webstore/detail/noteflix/ahoplkcmcgpbkimjhncpnnllgikapjoj?hl=fr&quot;&gt;Télécharger l’extension pour Chrome&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Tue, 07 Apr 2020 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/noteflix-allocine-netflix/main.jpg</image>
        <link>https://btor.fr/2020/04/07/noteflix-allocine-netflix/</link>
        <guid isPermaLink="true">https://btor.fr/2020/04/07/noteflix-allocine-netflix/</guid>
        
        <category>Netflix</category>
        
        <category>Firefox</category>
        
        <category>Open source</category>
        
        <category>Javascript</category>
        
        <category>Développment</category>
        
        
      </item>
    
      <item>
        <title>Docker, les bases</title>
        <description>&lt;p&gt;Régulièrement je me rends compte que certains développeurs ne sont pas à l’aise avec Docker. C’était aussi mon cas au début, Docker peut paraître complexe et flou au premier abord puis rapidement il devient &lt;strong&gt;indispensable&lt;/strong&gt;, mais pourquoi ?&lt;/p&gt;

&lt;p&gt;Dans cet article, je tâcherai de revenir sur les principaux concepts en essayant de faire le plus simple possible.
Si vous avez déjà un niveau avancé avec Docker, cet article n’est pas fait pour vous.&lt;/p&gt;

&lt;h1 id=&quot;-cest-quoi-docker-&quot;&gt;❓ C’est quoi Docker ?&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Docker est un logiciel libre permettant facilement de lancer des applications dans des conteneurs logiciels.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Source wikipédia&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Cool, mais du coup, qu’est-ce qu’un conteneur ? Avant d’expliquer le concept de conteneurisation, commençons par comprendre la base: &lt;strong&gt;la virtualisation&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;-virtualisation-vs-conteneurisation&quot;&gt;🐳 Virtualisation VS Conteneurisation&lt;/h3&gt;
&lt;p&gt;Ça devrait parler à beaucoup d’entre vous, c’est le fait &lt;strong&gt;d’émuler&lt;/strong&gt; un système d’exploitation dans un autre, par exemple, au sein d’un système d’exploitation Windows 10, j’émule un Linux, un MacOS ou même un Windows 3.1. Le logiciel permettant d’émuler nos systèmes d’exploitation est appelé un &lt;strong&gt;Hyperviseur&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Il existe deux types d’hyperviseur :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;L’hyperviseur de type 2&lt;/strong&gt; :&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/docker-bases-tuto/hyperviseur_type_2.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;Source wikipédia&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Vous les connaissez certainement sans savoir qu’ils sont de type 2 :  VirtualBox et VMWare workstation. Le type 2 veut dire que l’hyperviseur a besoin d’un système d’exploitation “hôte” (maitre) pour fonctionner. Par exemple, vous ne pouvez pas lancer Virtualbox seul sans Windows ou Ubuntu.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;L’hyperviseur de type 1&lt;/strong&gt; :&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/docker-bases-tuto/hyperviseur_type_1.png&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;Source wikipédia&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;A la différence du type 2, le type 1 fonctionne directement comme un “système hôte” et se charge de communiquer directement avec le matériel.
L’avantage du type 1 est qu’il permet d’avoir de meilleur performance étant donné qu’on dispose d’une couche applicative en moins contrairement au type 2 où le système d’exploitation hôte, sera consommateur de ressources. Hyper-V (Microsoft) est un hyperviseur de type 1.&lt;/p&gt;

&lt;p&gt;Et la conteneurisation dans tout ça ?&lt;/p&gt;

&lt;p&gt;Un conteneur, c’est grossièrement la même chose qu’une machine virtuelle, notre conteneur va avoir son propre système &lt;strong&gt;SAUF&lt;/strong&gt; que celui-ci communiquera directement avec le système d’exploitation hôte et pas nécessairement avec un hyperviseur. L’intérêt ? Un gain de performance pardi !&lt;/p&gt;

&lt;h3 id=&quot;️-platformes-win-linux-mac&quot;&gt;🖥️ Platformes (win, linux, mac)&lt;/h3&gt;
&lt;p&gt;Maintenant que l’on sait ce qu’est un hyperviseur, qu’on comprend la différence entre un conteneur et une machine virtuelle, est-ce qu’il y a une différence entre les différentes plateformes ?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/S3Ot3hZ5bcy8o/giphy.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Oh que oui !&lt;/p&gt;

&lt;p&gt;Docker ne se comporte pas réellement de la même façon en fonction des environnements. Docker se base sur les conteneurs LXC linux et propose une API plus accessible.&lt;/p&gt;

&lt;p&gt;Vous voyez le problème ?&lt;/p&gt;

&lt;p&gt;Qui dit Linux, dit : On va avoir un problème avec Windows et Mac.
Effectivement, si vous utilisez Linux sur votre machine hôte vous n’aurez aucun problème, Docker est supporté nativement, par contre sous Windows et Mac vous aurez une couche supplémentaire pour faire fonctionner Docker… &lt;strong&gt;Une machine virtuelle !&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/LyJ6KPlrFdKnK/giphy.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Comme je vous l’ai dit, Docker a besoin de Linux (LXC) pour fonctionner et quand vous n’êtes pas sous Linux, votre version de Docker (&lt;code class=&quot;highlighter-rouge&quot;&gt;DockerForMac&lt;/code&gt; ou &lt;code class=&quot;highlighter-rouge&quot;&gt;DockerForWindows&lt;/code&gt;) utilisera une machine virtuelle pour exécuter Docker. C’est pour cela que vous remarquerez assez rapidement que vos applications conteneurisées sont plus lentes sur Windows et Mac (les temps de latences dépendent de votre utilisation/application, des inputs/outputs nécessaires etc)
Rassurez-vous, c’est totalement transparent pour vous ! DockerForMac (ou DockerForWindows) s’occupera lui même de gérer la machine virtuelle, vous n’avez pas d’hyperviseur à installer.
A noter aussi que Docker n’est pas réservé à la conteneurisation d’image Linux, sous Windows vous aurez le choix entre des conteneurs Windows ou Linux mais vous ne pouvez pas exécuter les deux en même temps, tout comme vous ne pourrez pas exécuter un conteneur Windows sous Linux.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Debriefing&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Docker est plus lent sous MacOs et Windows&lt;/li&gt;
  &lt;li&gt;Les conteneurs partagent le noyau hôte (virtualisé ou non)&lt;/li&gt;
  &lt;li&gt;On peut lancer des conteneurs de différents systèmes d’exploitation tant que la système d’exploitation qui gère les conteneurs est le même que ceux-ci. Exemple : Un ordinateur sous windows 10 qui lance une machine virtuelle Ubuntu et qui dans celle ci aura des conteneurs sous debian.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;️-dockerfile-instructions-et-registry&quot;&gt;🗒️ Dockerfile, instructions et Registry&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;Si vous désirez continuer à lire cet article tout en lançant les commandes, vous devez bien évidemment avoir Docker d’installé et de fonctionnel)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Maintenant que nous avons vu le principe même de Docker et de la conteneurisation, passons à la pratique.
Comme nous l’avons vu, l’objectif de Docker est de simplifier la création et la manipulation de conteneurs.
Pour se faire, Docker met à disposition une API simple qui attend des &lt;strong&gt;instructions&lt;/strong&gt; pour fonctionner. Ces instructions sont déclarés au sein d’un fichier nommé &lt;strong&gt;Dockerfile&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Ce même fichier est utilisé pour construire (build) l’image, l’image construite sera ensuite envoyée vers un “serveur Docker” qu’on appelle &lt;strong&gt;Registry&lt;/strong&gt;. Le &lt;strong&gt;Docker Hub&lt;/strong&gt; est un &lt;strong&gt;Registry&lt;/strong&gt; gratuit mis à disposition de tout le monde (des plans payant existent aussi) mais il existe aussi d’autres Registry payant (plus performant, possibilité de gérer plusieurs repository privés etc). Vous pouvez aussi gérer vous même votre propre registry.
Pour simplifier, Docker Hub est un peu le &lt;strong&gt;Github&lt;/strong&gt; de git, vous avez le droit à un repository privé et à autant de repository public que vous le désirez et si vous désirez avoir plus de repository privé, bah vous payez … :)&lt;/p&gt;

&lt;p&gt;Les images sont stockées avec des &lt;code class=&quot;highlighter-rouge&quot;&gt;Tag&lt;/code&gt;, ces tags permettent de versionner les images sur le repository, par exemple si on regarde &lt;a href=&quot;https://hub.docker.com/_/debian&quot;&gt;les images disponibles pour Debian&lt;/a&gt; On s’aperçoit qu’il existe des images pour plusieurs versions de Debian (Jessie, Buster, Stretch etc..) qui sont en stable mais aussi des versions expérimentales, testing, Release candidate etc.&lt;/p&gt;

&lt;h3 id=&quot;️-lancer-son-premier-conteneur&quot;&gt;⚙️ Lancer son premier conteneur&lt;/h3&gt;
&lt;p&gt;Récupérons une image de Debian et regardons ce qu’il se passe :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Taper &lt;code class=&quot;highlighter-rouge&quot;&gt;docker run -it debian:jessie sh&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Vous devriez normalement tomber sur un shell avec juste &lt;code class=&quot;highlighter-rouge&quot;&gt;#&lt;/code&gt; d’afficher.&lt;/li&gt;
  &lt;li&gt;Taper &lt;code class=&quot;highlighter-rouge&quot;&gt;cat /etc/debian_version&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Vous devriez voir &lt;code class=&quot;highlighter-rouge&quot;&gt;8.11&lt;/code&gt; s’afficher&lt;/li&gt;
  &lt;li&gt;Nous sommes bien sur une version 8 de Debian, good !&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Sans presque rien faire, vous avez exécuter votre premier conteneur et vous avez exécuté une commande dans celui-ci ! Congrats !
Revenons maintenant sur ce que nous avons tapé:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;docker run&lt;/code&gt; : Permet de récupérer une image du Registry et de l’exécuter, si vous désirez uniquement récupérer une image docker sans même l’exécuter, vous pouvez utiliser la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;docker pull&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-it&lt;/code&gt; : Permet de lancer le conteneur en mode interactif&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;debian:jessie&lt;/code&gt;: C’est l’image qu’on veut récupérer et exécuter, notons que &lt;code class=&quot;highlighter-rouge&quot;&gt;debian&lt;/code&gt; est le nom du repository et &lt;code class=&quot;highlighter-rouge&quot;&gt;jessie&lt;/code&gt; le tag de la version à utiliser&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sh&lt;/code&gt; : La commande qu’on cherche à lancer après avoir lancer le conteneur&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;En d’autres termes, on a demandé à docker de récupérer une image, la lancer et d’exécuter une commande qu’on lui donne (&lt;code class=&quot;highlighter-rouge&quot;&gt;sh&lt;/code&gt;) ! C’est tout !&lt;/p&gt;

&lt;p&gt;Les conteneurs sont censés avoir une fonction unique, par exemple on pourrait utiliser un conteneur pour lancer un processus nginx, php-fpm, go etc..
Le conteneur peut lancer cette fonction et se terminer à la fin du processus ou ne jamais s’arrêter (le cas d’un serveur web, d’un worker etc.). Si vous désirez arrêter l’exécution d’un conteneur qui tourne en rond, qui est un worker ou autre vous pouvez utiliser la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;docker kill &amp;lt;hash&amp;gt;&lt;/code&gt; ou &lt;code class=&quot;highlighter-rouge&quot;&gt;docker kill &amp;lt;nom-conteneur&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Reprenons la même image &lt;code class=&quot;highlighter-rouge&quot;&gt;debian:jessie&lt;/code&gt; mais cette fois-ci nous lui demanderons de lancer le conteneur puis d’exécuter la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;cat /etc/debian_version&lt;/code&gt; sans être en mode interactif.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Taper &lt;code class=&quot;highlighter-rouge&quot;&gt;docker run debian:jessie cat /etc/debian_version&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;La commande renvoie directement &lt;code class=&quot;highlighter-rouge&quot;&gt;8.11&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Conclusion :&lt;/strong&gt; ` Docker run` va récupérer une image docker puis l’exécuter, on peut exécuter l’image en mode interactif pour interagir dans le conteneur ou tout simplement lancer l’exécution d’une commande/fonction afin d’avoir la réponse directement.&lt;/p&gt;

&lt;h3 id=&quot;️-exec&quot;&gt;➡️ Exec&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;run&lt;/code&gt; nous permettant de récupérer et lancer une image, comment fait-on quand on a un conteneur déjà lancé et qu’on veut exécuter une commande à l’intérieur de celui ci sans forcément passer à chaque fois par le shell ? c’est là qu’&lt;code class=&quot;highlighter-rouge&quot;&gt;exec&lt;/code&gt; intervient.
Lançons &lt;code class=&quot;highlighter-rouge&quot;&gt;docker run nginx&lt;/code&gt; dans une fenêtre, puis dans une autre :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;docker ps&lt;/code&gt; pour afficher la liste des conteneurs en cours d’exécution&lt;/li&gt;
  &lt;li&gt;On aperçoit bien notre conteneur
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;fdf20b921646  nginx &quot;nginx -g 'daemon of…&quot;   6 seconds ago   Up 4 seconds    80/tcp   happy_jepsen
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Essayons de récupérer la version de debian en tapant &lt;code class=&quot;highlighter-rouge&quot;&gt;docker exec happy_jepsen cat /etc/debian_version&lt;/code&gt; (&lt;code class=&quot;highlighter-rouge&quot;&gt;happy_jepsen&lt;/code&gt; doit être remplacé par le nom de votre conteneur ou son hash, ici &lt;code class=&quot;highlighter-rouge&quot;&gt;fdf20b921646&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Le conteneur répond &lt;code class=&quot;highlighter-rouge&quot;&gt;9.9&lt;/code&gt;, ce qui correspond bien à la version &lt;code class=&quot;highlighter-rouge&quot;&gt;stretch-slim&lt;/code&gt; disponible dans le &lt;a href=&quot;https://github.com/nginxinc/docker-nginx/blob/b749353968a57ebd9da17e12d23f1a5fb62f9de9/mainline/stretch/Dockerfile&quot;&gt;Dockerfile&lt;/a&gt; de nginx&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Conclusion :&lt;/strong&gt; Il faut faire attention à bien utiliser &lt;code class=&quot;highlighter-rouge&quot;&gt;docker run&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;docker exec&lt;/code&gt;, on confond souvent les deux au début. 
&lt;code class=&quot;highlighter-rouge&quot;&gt;run&lt;/code&gt; =&amp;gt; Je récupère et je lance l’image (avec ou sans commande à exécuter) 
&lt;code class=&quot;highlighter-rouge&quot;&gt;exec&lt;/code&gt; =&amp;gt; Je lance une commande dans un conteneur &lt;strong&gt;déjà&lt;/strong&gt; lancé.&lt;/p&gt;

&lt;h3 id=&quot;-votre-premier-conteneur-docker&quot;&gt;🐥 Votre premier conteneur Docker&lt;/h3&gt;
&lt;p&gt;Nous avons connaissance de quatre commandes docker : &lt;code class=&quot;highlighter-rouge&quot;&gt;run&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;exec&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;pull&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;ps&lt;/code&gt;. 
Jusqu’à présent nous avons récupéré des images docker déjà crée, mais qu’en est-il d’une image qu’on souhaiterait créer ?&lt;/p&gt;

&lt;p&gt;Commençons par faire notre premier fichier &lt;strong&gt;Dockerfile&lt;/strong&gt; :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Créer un fichier nommé  &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; et y ajouter :&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-dockerfile highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; debian:jessie&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;toto&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On y voit deux instructions :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;FROM&lt;/code&gt; : Demande à Docker de récupérer une image (en l’occurence &lt;code class=&quot;highlighter-rouge&quot;&gt;debian:jessie&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;RUN&lt;/code&gt; : Exécute une commande système, ça pourrait être &lt;code class=&quot;highlighter-rouge&quot;&gt;ls&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;cp&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;cat&lt;/code&gt; …&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Les images Docker ont besoin d’être build pour ensuite pouvoir être lancée. 
Pour lancer le build d’une image, il suffit d’utiliser la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;docker build .&lt;/code&gt;. On dit juste à Docker de build l’image courante, docker se chargera de prendre le fichier &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; dans votre répertoire courant. Vous pouvez aussi spécifier un chemin vers un Dockerfile en utilisant &lt;code class=&quot;highlighter-rouge&quot;&gt;docker build -f repertoire/Dockerfile .&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Voici le retour de la commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; btor@dev&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt; docker build &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;/Dockerfile &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
Sending build context to Docker daemon  3.928MB
Step 1/2 : FROM debian:jessie
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 7cd9fb1ee74f
Step 2/2 : RUN &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;toto&quot;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Using cache
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 8831306e5a73
Successfully built 8831306e5a73
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trois choses importantes sont à noter :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;On voit très clairement les deux étapes que docker exécute : FROM et RUN&lt;/li&gt;
  &lt;li&gt;Chaque étape à son propre hash &lt;code class=&quot;highlighter-rouge&quot;&gt;7cd9fb1ee74f&lt;/code&gt; pour le FROM et &lt;code class=&quot;highlighter-rouge&quot;&gt;8831306e5a73&lt;/code&gt; pour le RUN, chaque étape/instruction va créer un nouveau layer (une couche).&lt;/li&gt;
  &lt;li&gt;Le build résulte d’un message &lt;code class=&quot;highlighter-rouge&quot;&gt;Successfully build 8831306e5a73&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;-les-coucheslayers&quot;&gt;📚 Les couches/layers&lt;/h2&gt;
&lt;p&gt;Pour chaque étape ou instruction que l’ont écris dans notre Dockerfile, Docker va créer un layer avec un &lt;code class=&quot;highlighter-rouge&quot;&gt;hash&lt;/code&gt; propre à celui ci. Chaque layer est utilisable tel quel ! Oui oui ! Vous pouvez lancer un conteneur en vous basant sur le &lt;code class=&quot;highlighter-rouge&quot;&gt;hash&lt;/code&gt; de votre layer
(vous pouvez tester en tapant&lt;code class=&quot;highlighter-rouge&quot;&gt;docker run 8831306e5a73 cat /etc/debian_version&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/2YntTHAxuJLZcKpOy9/giphy.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Vulgarisons la chose, voilà ce que vous demandez à Docker:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Vous:&lt;/strong&gt; Créer moi une image qui hérite de &lt;code class=&quot;highlighter-rouge&quot;&gt;debian:jessie&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Docker:&lt;/strong&gt; C’est fait, l’image est écrite dans le cache avec le hash &lt;code class=&quot;highlighter-rouge&quot;&gt;7cd9fb1ee74f&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Vous:&lt;/strong&gt; En utilisant cette image, lance la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;echo &quot;toto&quot;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Docker:&lt;/strong&gt; C’est fait, j’ai réutiliser l’image &lt;code class=&quot;highlighter-rouge&quot;&gt;debian:jessie&lt;/code&gt; puis y ai lancé la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;echo &quot;toto&quot;&lt;/code&gt; et j’ai sauvegardé le résultat dans une nouvelle image avec le hash &lt;code class=&quot;highlighter-rouge&quot;&gt;8831306e5a73&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Pour chaque étape, docker créer une couche, c’est génial parce que ça nous permet à la fois de tester ces étapes une à une mais c’est aussi une bonne chose puisque Docker va être capable de comprendre vos modifications sur le Dockerfile et de ne relancer que ce qui a été modifié, exemple :&lt;/p&gt;

&lt;p&gt;Vous avez un dockerfile avec différentes étapes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Etape 1 / hash 111&lt;/li&gt;
  &lt;li&gt;Etape 2 / hash 222&lt;/li&gt;
  &lt;li&gt;Etape 3 / hash 333&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Vous lancez votre &lt;code class=&quot;highlighter-rouge&quot;&gt;docker build .&lt;/code&gt; et vous vous rendez compte que votre étape 2 n’est pas bonne. Vous l’éditez et relancé le build… et la &lt;strong&gt;PAF !&lt;/strong&gt; vous vous rendez compte que Docker ne relance pas l’étape 1 mais passe directement à l’étape 2 et 3, pourquoi ? parce qu’il a déjà en mémoire l’étape 1 et sait qu’elle n’a pas été touché donc il peut repartir de là et exécuter les étapes filles. A noter que les étapes sont séquentielles, elles dépendent toutes de leur “mère”, Etape 3 dépend de Etape 2 qui elle même dépend d’Etape 1. Docker ne peut donc pas relancer uniquement L’étape 2, elle est la mère de l’étape 3 et donc Docker n’a aucun moyen de savoir si elle a été modifié ou pas.&lt;/p&gt;

&lt;h2 id=&quot;-les-instructions&quot;&gt;📝 Les instructions&lt;/h2&gt;
&lt;p&gt;On l’a vu plus haut, un Dockerfile est composé d’instructions, dans les instructions courantes, on retrouve:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;FROM&lt;/code&gt;: C’est notre héritage de base de l’image&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;RUN&lt;/code&gt;: On lance une commande dans le filesystem du conteneur&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;COPY&lt;/code&gt;: Permet de copier des fichiers depuis la machine hôte vers le conteneur&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;LABEL&lt;/code&gt;:  Notion “d’étiquettes” qu’on donne au conteneur, utile pour mettre qui est l’auteur, le mainteneur, ou un mail de contact&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ENV&lt;/code&gt;: Affectation de variables d’environnements&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;EXPOSE&lt;/code&gt;: Permet d’exposer des ports, par exemple dans le cas d’un conteneur de serveur web, on exposera le port 80 et 443 afin de pouvoir accéder au processus Nginx/Apache&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;WORKDIR&lt;/code&gt;: Change le répertoire de travail&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ENTRYPOINT&lt;/code&gt;: Lance un script d’initialisation du conteneur&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;CMD&lt;/code&gt;: Une fois le conteneur lancé, CMD sera utilisé comme commande par défaut pour lancer le conteneur (typiquement sur un conteneur &lt;code class=&quot;highlighter-rouge&quot;&gt;node&lt;/code&gt; on pourrait avoir un &lt;code class=&quot;highlighter-rouge&quot;&gt;node start&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ces instructions peuvent être utilisées dans l’ordre que vous voulez, à l’exception de certaines… (bah oui, il y a toujours un truc bizarre qui se cache…).
Dans vos premiers Dockerfile vous utiliserez &lt;strong&gt;toujours&lt;/strong&gt; l’instruction &lt;code class=&quot;highlighter-rouge&quot;&gt;FROM&lt;/code&gt; en première. Tout simplement parce que votre image commence toujours à partir d’une autre image,  vous avez la possibilité de créer votre propre image de “départ”. C’est ce qu’on appelle les &lt;code class=&quot;highlighter-rouge&quot;&gt;base image&lt;/code&gt;. Il n’est pas du tout nécessaire de savoir créer des &lt;code class=&quot;highlighter-rouge&quot;&gt;base image&lt;/code&gt; pour utiliser Docker mais pour les intéressés &lt;a href=&quot;https://docs.docker.com/develop/develop-images/baseimages/&quot;&gt;voici le lien&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Mention spéciale aussi pour &lt;code class=&quot;highlighter-rouge&quot;&gt;CMD&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;ENTRYPOINT&lt;/code&gt; qui sont souvent utilisées à la fin du Dockerfile pour des soucis de lisibilité/compréhension et parce qu’elles définissent le script/command à lancé une fois le conteneur “prêt”.&lt;/p&gt;

&lt;h2 id=&quot;️-push-it-to-the-limit&quot;&gt;🕊️ Push it to the limit&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/owiooI9tn2hjy/giphy.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;On a arrive à construire nos images en locale, à les lancer, lancer des commandes à l’intérieur de nos conteneurs etc.. cool ! mais comment fait-on pour les sauvegarder sur le hub ?&lt;/p&gt;

&lt;p&gt;Première étape, votre &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; doit être versionné avec github (ou autre) afin de garder une trace de votre image.
La deuxième étape est toute simple, pour chaque version de votre image, vous allez lui appliquer un &lt;code class=&quot;highlighter-rouge&quot;&gt;tag&lt;/code&gt; et l’envoyer sur le hub docker.&lt;/p&gt;

&lt;p&gt;Faisons un essai avec ce Dockerfile:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM debian:jessie
LABEL &lt;span class=&quot;nv&quot;&gt;maintainer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Thibaut BAYER&amp;lt;bt0r&amp;gt;&quot;&lt;/span&gt;
RUN &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Bienvenue sur votre première image docker&quot;&lt;/span&gt;
COPY ./script.sh /root/script.sh
RUN &lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;777 /root/script.sh
ENTRYPOINT &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/root/script.sh&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Au même endroit que le Dockerfile, créez un fichier nommé &lt;code class=&quot;highlighter-rouge&quot;&gt;script.sh&lt;/code&gt; avec ceci à l’intérieur&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;WOW ca marche&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Lancons le build de l’image :&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker build .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Ce qui nous donne&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Sending build context to Docker daemon  3.072kB
Step 1/6 : FROM debian:jessie
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; d69ffb5f6cbf
Step 2/6 : LABEL &lt;span class=&quot;nv&quot;&gt;maintainer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Thibaut BAYER&amp;lt;bt0r&amp;gt;&quot;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Using cache
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 2ffcffa9a5a8
Step 3/6 : RUN &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Bienvenue sur votre première image docker&quot;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Using cache
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; cb64dcad7887
Step 4/6 : COPY ./script.sh /root/script.sh
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 70d8badd9532
Step 5/6 : RUN &lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;777 /root/script.sh
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Running &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;a7f7f63d4490
Removing intermediate container a7f7f63d4490
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 8df44389144c
Step 6/6 : ENTRYPOINT &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/root/script.sh&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Running &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;0d4194fc0f3e
Removing intermediate container 0d4194fc0f3e
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 1faa94d56d33
Successfully built 1faa94d56d33

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Vous noterez qu’une seule étape de mon Dockerfile crée quelque chose dans le conteneur, c’est l’étape “COPY” qui copie un fichier depuis le système hôte jusqu’au conteneur. L’instructions &lt;code class=&quot;highlighter-rouge&quot;&gt;RUN echo &quot;Bienvenue ...&quot;&lt;/code&gt; ne s’affiche que lors de l’exécution du build, pas une fois l’image crée/lancée.&lt;/p&gt;

&lt;p&gt;Notre image est crée en local, on peut l’exécuter en faisant &lt;code class=&quot;highlighter-rouge&quot;&gt;docker run 1faa94d56d33&lt;/code&gt; (où &lt;code class=&quot;highlighter-rouge&quot;&gt;1faa94d56d33&lt;/code&gt; correspond au dernier layer construit).&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;WOW ca marche&lt;/code&gt; s’affiche, génial, sauf que voilà, notre image n’a pas de version/nom du coup c’est un peu chiant d’utiliser à chaque fois le hash de celle-ci.&lt;/p&gt;

&lt;p&gt;Et si on la tagguait ? Pour tagguer, il suffit d’utiliser l’option &lt;code class=&quot;highlighter-rouge&quot;&gt;-t&lt;/code&gt; :&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker build &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; btor/wow

Sending build context to Docker daemon  3.072kB
Step 1/6 : FROM debian:jessie
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; d69ffb5f6cbf
Step 2/6 : LABEL &lt;span class=&quot;nv&quot;&gt;maintainer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Thibaut BAYER&amp;lt;bt0r&amp;gt;&quot;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Using cache
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 2ffcffa9a5a8
Step 3/6 : RUN &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Bienvenue sur votre première image docker&quot;&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Using cache
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; cb64dcad7887
Step 4/6 : COPY ./script.sh /root/script.sh
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Using cache
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 70d8badd9532
Step 5/6 : RUN &lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;777 /root/script.sh
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Using cache
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 8df44389144c
Step 6/6 : ENTRYPOINT &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/root/script.sh&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Using cache
 &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 1faa94d56d33
Successfully built 1faa94d56d33
Successfully tagged btor/wow:latest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On note ici que j’ai utilisé : &lt;code class=&quot;highlighter-rouge&quot;&gt;btor&lt;/code&gt; comme nom de compte docker hub, &lt;code class=&quot;highlighter-rouge&quot;&gt;wow&lt;/code&gt; comme repository et c’est tout, docker m’a automatiquement attribué la version &lt;code class=&quot;highlighter-rouge&quot;&gt;latest&lt;/code&gt;, ce qui veut dire que si je refait un build de cette même image ou d’une image modifié avec le même tag, elle surchargera ma précédente. Et oui jamy !&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media1.tenor.com/images/43d1951bb99d9223dbdc3146ef8b4f60/tenor.gif?itemid=11967093&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pour spécifier une version, on peut tout simplement ajouter &lt;code class=&quot;highlighter-rouge&quot;&gt;:v1&lt;/code&gt; par exemple, ce qui donnerait&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker build &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; &amp;lt;vous&amp;gt;/wow:v1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;La version peut s’appeller de n’importe quelle facon &lt;code class=&quot;highlighter-rouge&quot;&gt;10.1&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;v1&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;v1-alpha&lt;/code&gt; …&lt;/p&gt;

&lt;p&gt;Notre image en v1 crée en local, il serait temps de l’envoyer sur le docker hub en tapant &lt;code class=&quot;highlighter-rouge&quot;&gt;docker push &amp;lt;vous&amp;gt;/wow:v1&lt;/code&gt; (pensez à remplacer &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;vous&amp;gt;&lt;/code&gt; par votre nom de compte docker hub que ce soit pour vos builds ou vos push sinon vous n’aurez pas les droits d’envoyer sur un repository dont vous n’êtes pas le propriétaire)&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker push &amp;lt;vous&amp;gt;/wow:v1
The push refers to repository &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;docker.io/&amp;lt;vous&amp;gt;/wow]
abd25ccbce1b: Pushed 
c70e7bc63ac2: Pushed 
790002cce4fd: Mounted from library/debian 
v1: digest: sha256:90717eefe2dedddfd65d818f88f1c75aa29b7f5c3aafc43dba2b0fca8656cf9b size: 943
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Notre image est désormais disponible sur le docker hub, elle est réutilisable par n’importe qui (repository public) ! Top ! 
Maintenant éditons notre &lt;code class=&quot;highlighter-rouge&quot;&gt;script.sh&lt;/code&gt; et remplaçons le &lt;code class=&quot;highlighter-rouge&quot;&gt;WOW ca marche&lt;/code&gt; par &lt;code class=&quot;highlighter-rouge&quot;&gt;WOW c'est la v2 !&lt;/code&gt; et taggons tout ca en v2&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;vim script.sh&lt;/code&gt; -&amp;gt; Wow c’est la v2 !&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt; docker build . -t &amp;lt;vous&amp;gt;/wow:v2&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;docker push &amp;lt;vous&amp;gt;/wow:v2&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Une fois le push effectué, rendez vous sur votre compte docker hub. Vous devriez avoir 2 versions (&lt;code class=&quot;highlighter-rouge&quot;&gt;v1&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;v2&lt;/code&gt;) dans votre repository &lt;code class=&quot;highlighter-rouge&quot;&gt;wow&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Les deux versions peuvent être récupérées par n’importe qui en faisant &lt;code class=&quot;highlighter-rouge&quot;&gt;docker pull &amp;lt;vous&amp;gt;/wow:v1&lt;/code&gt; ou &lt;code class=&quot;highlighter-rouge&quot;&gt;docker run &amp;lt;vous&amp;gt;/wow:v2&lt;/code&gt;, si l’image n’existe pas en local, docker va rechercher sur docker hub et va automatiquement télécharger l’image.&lt;/p&gt;

&lt;p&gt;Et si on testait ce fonctionnement en local ? :D&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Listez vos images locales en tapant &lt;code class=&quot;highlighter-rouge&quot;&gt;docker images &amp;lt;vous&amp;gt;/wow&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Supprimez vos 2 versions locale &lt;code class=&quot;highlighter-rouge&quot;&gt;v1&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;v2&lt;/code&gt; en faisant ` docker rmi –force 1faa94d56d33 1faa94d56d33` (avec vos hash d’images)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;docker images&lt;/strong&gt; permet de lister les images disponibles en local, tandis que &lt;strong&gt;docker rmi&lt;/strong&gt; supprime les images (&lt;code class=&quot;highlighter-rouge&quot;&gt;rmi&lt;/code&gt; pour remove images).&lt;/p&gt;

&lt;p&gt;Les images étant supprimées, testons de récupérer les images que vous avez publiez :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;docker run &amp;lt;vous&amp;gt;/wow:v1&lt;/code&gt; =&amp;gt; WOW ca marche&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;docker run &amp;lt;vous&amp;gt;/wow:v2&lt;/code&gt; =&amp;gt; WOW c’est la v2 !&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Dans les deux cas, docker nous informe bien que l’image n’est pas disponible en local &lt;code class=&quot;highlighter-rouge&quot;&gt;Unable to find image '&amp;lt;vous&amp;gt;/wow:v1' locally&lt;/code&gt;. Vous pouvez d’ailleurs essayer avec les images que j’ai moi même posté sur le hub sans remplacer par votre nom d’utilisateur : &lt;code class=&quot;highlighter-rouge&quot;&gt;docker run btor/wow:v1&lt;/code&gt; vous devriez avoir le même résultat mais docker retéléchargera l’image (vu que pour lui elle est différente de la votre).&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;Vous avez désormais les notions de bases de docker, vous savez comment docker fonctionne, comment récupérer/stoper/lancer/créer/pousser une image. 
Si vous avez aimé cet article ou que vous désirez avoir plus d’informations (voir même d’autres articles dans la même veine, &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose&lt;/code&gt;, docker avancé, &lt;code class=&quot;highlighter-rouge&quot;&gt;kubernetes&lt;/code&gt; etc..) faites le moi savoir :D&lt;/p&gt;
</description>
        <pubDate>Wed, 03 Jul 2019 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/docker-bases-tuto/main.jpg</image>
        <link>https://btor.fr/2019/07/03/docker-bases-tuto/</link>
        <guid isPermaLink="true">https://btor.fr/2019/07/03/docker-bases-tuto/</guid>
        
        <category>Infrastructure</category>
        
        <category>Système</category>
        
        
      </item>
    
      <item>
        <title>Comment jouer à des jeux windows sous linux directement sur Steam</title>
        <description>&lt;p&gt;Suite à une discussion avec &lt;a href=&quot;https://twitter.com/L_nny_&quot;&gt;Lenny&lt;/a&gt; concernant le fait de jouer sous linux via Steam. Il m’a partagé un lien d’une vidéo qui parle du développement d’un logiciel de “portabilité” des jeux windows sous linux directement intégré à Steam (&lt;a href=&quot;https://www.clubic.com/jeu-video/actualite-844949-valve-solution-jouer-jeux-steam-linux.html&quot;&gt;voir l’article en français&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Il s’agit en réalité d’un Wine modifié et intégré à steam (&lt;a href=&quot;https://github.com/ValveSoftware/Proton&quot;&gt;Proton&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;N’ayant pas trouvé cette fonctionnalité sur steam, j’ai un peu cherché et voici les étapes à effectuer pour pouvoir installer des jeux windows sous linux sans se charger de faire la configuration de Wine (qui pour le coup peut être très fastidieuse)&lt;/p&gt;

&lt;h2 id=&quot;-prérequis&quot;&gt;🏁 Prérequis&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Steam doit être installé&lt;/li&gt;
  &lt;li&gt;Vos drivers vidéos doivent être fonctionnels et à jours&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;comment-faire&quot;&gt;❓Comment faire&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Lancez steam&lt;/li&gt;
  &lt;li&gt;Dans “Settings =&amp;gt; Account” ou “Paramètres =&amp;gt; Compte” : Vérifiez que votre compte steam est sur le mode “Béta”, si ce n’est pas le cas, cliquez sur le bouton “Changer”&lt;/li&gt;
  &lt;li&gt;Validez puis relancer steam si nécessaire&lt;/li&gt;
  &lt;li&gt;Dans “Settings =&amp;gt; Steam Play” ou “Paramètres =&amp;gt; Steam Play” :
    &lt;ul&gt;
      &lt;li&gt;Cochez la case “Enable steam play for all titles”&lt;/li&gt;
      &lt;li&gt;Cochez la case “Use this tool instead of game-specific selections from Steam”&lt;/li&gt;
      &lt;li&gt;Dans “Compatibility Tool” sélectionnez la dernière version de Proton (3.7-3 au moment où j’écris cet article).&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Validez et redémarrez steam&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/jouer-jeux-linux-windows/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/jouer-jeux-linux-windows/02.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Une fois Steam redémarré, l’icône d’installation de vos jeux windows devrait être visible. Il ne vous reste plus qu’à installer votre jeu et à le lancer.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/jouer-jeux-linux-windows/03.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;J’ai pu testé avec GTA 5 sur steam, le launcher de rockstar ne s’affiche pas correctement donc il m’était impossible de m’authentifier.
J’ai également testé avec PUBG, sans succès le jeu se lance mais rien ne s’affiche.&lt;/p&gt;

&lt;p&gt;Cette solution peut dépanner si le jeu est supporté et si vous disposez d’un bon matériel, néanmoins, elle ne permet pas de jouer à tous les jeux windows.&lt;/p&gt;
</description>
        <pubDate>Sun, 02 Sep 2018 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/jouer-jeux-linux-windows/main.jpg</image>
        <link>https://btor.fr/2018/09/02/jouer-jeux-linux-windows/</link>
        <guid isPermaLink="true">https://btor.fr/2018/09/02/jouer-jeux-linux-windows/</guid>
        
        <category>Tutorial</category>
        
        <category>Jeux</category>
        
        <category>Linux</category>
        
        
      </item>
    
      <item>
        <title>Voyage en Italie, Rome, Vatican, Florence, Pise, Cinque Terre</title>
        <description>&lt;p&gt;Comme annoncé sur Twitter, je vais essayer de profiter du blog pour vous partager mes différentes expériences de voyages. Je suis loin d’être un gros backpacker mais j’ai déjà quelques voyages à mon actif (États-Unis, Canada, Espagne, Portugal, Angleterre, Allemagne, Grèce, Crète, Sicile, Pologne etc.). L’idée de ces articles est tout simplement de partager mon expérience de voyage, montrer ce qui m’a marqué, ce que j’ai aimé ou pas.&lt;/p&gt;

&lt;p&gt;Cette fois-ci, j’ai effectué mon voyage en couple. Le voyage a été organisé à la dernière minute (2 semaines avant) à cause d’une contrainte perso (changement de job).
Nous n’avions pas de destination préférée mais on avait quand même quelques contraintes comme celle de voyager en Europe (ma copine n’ayant pas encore son passeport) et celle de devoir trouver quelque chose rapidement et pas &lt;strong&gt;“trop”&lt;/strong&gt; cher.
J’ai commencé à regarder du coté des zones sympa à faire en été, Espagne, Portugal, Croatie en omettant complètement l’Italie pour des raisons de budget (on m’a toujours dit que l’Italie c’était cher !).
J’ai vite déchanté en voyant le prix des billets pour les zones que j’ai déjà visité comme la Crète, Faro, Barcelone ou bien d’autres. La Croatie quant à elle était vraiment trop coûteuse quand on prenait en compte les différents transports entre les gros points d’intérêts.&lt;br /&gt;
C’est à ce moment là que j’ai commencé à regarder le prix des billets/hôtels sur Rome, j’avais déjà voyagé en Sicile mais l’Italie pure était encore dans ma todo-list.&lt;/p&gt;

&lt;p&gt;Et là &lt;strong&gt;SURPRISE&lt;/strong&gt; ! 
L’aller-retour pour Rome coûtait ~230€/personne, l’hôtel pour Rome (5 jours) coûtait 110€/personne et 200€/pers pour 8 jours sur Florence. Ce qui fait environ 540€ par personne avec avion+logement sur 2 semaines, partant du fait que l’hébergement et l’avion font parti des plus gros frais dans un voyage, c’était le plan le moins cher qu’on a pu trouver en cette période. En sachant que : On est en plein mois d’août, on réserve 2 semaines avant, on est en hôtel/appartement en plein cœur des villes ou proche de centres d’intérêts. On aurait pu trouver pour beaucoup moins cher en dormant en auberge de jeunesse etc. mais c’est pas forcément ce qui nous plaît le plus. Le plan me semblant plutôt bon-marché, j’ai directement demandé l’avis de madame.. Sa réaction a été sans appel..&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/y8Mz1yj13s3kI/giphy.gif&quot; alt=&quot;&quot; /&gt;
&lt;strong&gt;Let’s go to Roma !&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&quot;-description-du-voyage&quot;&gt;🛫 Description du voyage&lt;/h1&gt;
&lt;p&gt;Je me suis chargé d’organisé le voyage, une bonne partie de la première semaine était dédiée à Rome et au Vatican puis ensuite on prenait la direction de Florence pour rejoindre notre deuxième hôtel situé vers Sarzana afin d’être proche de Florence, Pise et des Cinque Terre. La deuxième semaine était plus axée détente au soleil, je savais qu’on serait un peu fatigué à marcher dans Rome donc je voulais un petit moment de pause avant de rentrer sur Paris et de reprendre le travail.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/map.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Voici le détail exact du trip:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Rome/Vatican : 5 jours&lt;/li&gt;
  &lt;li&gt;Florence : 1 jour (le jour d’arrivée en train)&lt;/li&gt;
  &lt;li&gt;Pise: Une demi journée&lt;/li&gt;
  &lt;li&gt;Cinque Terre + Visite des environs : 8 jours&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Appareils photos :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.frandroid.com/test/342976_test-xiaomi-redmi-3&quot;&gt;Xiaomi Redmi 3&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://amzn.to/2PsxCVj&quot;&gt;Xiaomi Yi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://amzn.to/2CazvnR&quot;&gt;Iphone 6&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;-visite-de-rome&quot;&gt;🇮🇹 Visite de Rome&lt;/h1&gt;
&lt;h2 id=&quot;1er-jour&quot;&gt;1er jour&lt;/h2&gt;
&lt;p&gt;Arrivé à l’aéroport de Rome Fuimicino vers 20h notre première mission était de rejoindre le cœur de Rome en train afin d’aller directement à l’hôtel. Avant de partir, on avait déjà fait le tour des différents transports disponibles, le train semblait le plus approprié et le moins cher (8€ l’aller/pers).
On prend donc nos tickets de train au guichet ainsi qu’un pass métro/bus/tram pour 1 semaine (24€/pers) en partant du principe qu’on utilisera beaucoup le métro sur Rome et que ça serait plus rentable de prendre ce pass plutôt que d’acheter des tickets de métro à chaque fois. Les billets achetés, on s’installe dans le train. Le train n’est pas très rempli, plutôt confortable et les indications sont claires c’est un direct pour Rome, ça tombe bien, c’est là où on va !&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/l3q2LH45XElELRzRm/giphy.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Le train démarre, on est un peu excité à l’idée de visiter Rome donc on commence à faire un peu le tour de ce qu’on pourrait faire le lendemain en prenant en compte la météo pas très clémente les premiers jours (orages/ensoleillé).
10 minutes après le départ du train, une contrôleuse se pointe et nous demande nos tickets. Pas de soucis, on lui donne les 2 tickets et elle nous explique gentiment que le billet à 8€ n’est valable que pour le train de seconde classe et que le train où nous sommes est un train de première classe uniquement.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/3o7527pa7qs9kCG78A/giphy.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;C’est à ce moment là que tu te dis “putain les vacances commencent bien”, on a dû payer un billet de première classe pour faire le trajet Aeroport-&amp;gt;Rome à 12€, la déduction des 8€ n’étant pas applicable. Autrement dit, on a perdu 8€ chacun par manque d’information du guichetier. &lt;strong&gt;SUPER !&lt;/strong&gt; On avait un peu la rage contre le guichetier qui ne nous avait rien dit mais bon c’est pas grave, c’est les vacances, on n’est pas à 8€ près et on fera attention sur le trajet retour.
Nous avons rejoins notre hôtel assez facilement, le métro est tout petit, il n’y a que 3 ou 4 lignes, la signalisation est souvent traduite en anglais donc c’est très facile de se repérer.&lt;/p&gt;

&lt;p&gt;Après avoir déposé nos valises, nous nous sommes rendus au Vatican de nuit pour se “teaser” un petit peu. Pour ceux qui ne le savent pas, le Vatican est le plus petit pays du monde, symbole et “capitale” du catholicisme, qu’on soit croyant ou pas (comme moi) ça reste quelque chose d’emblématique et à faire dans sa vie. La place Saint-Pierre n’était pas accessible (fermée et sécurisée par la police) mais on a pu la voir de loin et flâner un peu sur la rue “della Conciliazione” qui est juste en face.&lt;/p&gt;

&lt;h2 id=&quot;2ème-et-3ème-jour&quot;&gt;2ème et 3ème jour&lt;/h2&gt;
&lt;p&gt;Après une bonne nuit, nous avons profité du week-end pour visiter les diverses places incontournables de Rome.
Nous avons pu visiter le Panthéon, gratuit, sans attente, pratique pour s’abriter quand il pleut ?
Voici quelques photos des différentes places/bâtiments qu’on a pu voir.&lt;/p&gt;

&lt;h3 id=&quot;le-panthéon&quot;&gt;Le Panthéon&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/pantheon/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/pantheon/02.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;la-place-navona&quot;&gt;La place Navona&lt;/h3&gt;
&lt;p&gt;Pas très loin du Panthéon se trouve la place Navona, c’est ici que nous avons décidé de déjeuner.
On a voulu faire light en commandant des salades dans un restaurant pas très loin de la place. 
Soyons clair, c’était DÉGUEULASSE ! La salade baignait dans l’huile, ça n’avait aucun goût.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-navona/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-navona/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-navona/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/06.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;la-fontaine-de-trévi&quot;&gt;La fontaine de trévi&lt;/h3&gt;
&lt;p&gt;Fontaine très connue et très visitée… Un conseil, si vous voulez faire de belles photos, n’y allez pas en période d’affluence, allez-y tôt le matin pour être sûr d’être tranquille.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/trevi/01.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;la-place-de-spagna&quot;&gt;La place de Spagna&lt;/h3&gt;
&lt;p&gt;Place très fréquentée aussi, beaucoup de boutiques de luxe, nous avons pris un petit-déjeuner chez babingtons (salon de thé anglais, cher mais très bon) puis nous avons monté les marches pour ensuite nous diriger vers le zoo.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-spagna/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-spagna/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-spagna/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-spagna/04.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/04.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/01.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;le-zoo-et-le-parc-villa-borghese&quot;&gt;Le Zoo et le parc Villa Borghese&lt;/h3&gt;
&lt;p&gt;Nous avions prévu de nous balader dans le parc Villa Borghese, à l’inverse le zoo n’était pas prévu et honnêtement je ne le recommanderai pas.
L’entrée coûte 16€/personne, il y a pas mal d’espèces mais très peu d’animaux (un seul éléphant, un tigre, 2/3 ours).  Le coût des activités étant assez élevé sur Rome, je recommanderais plutôt de garder ces 16€ pour autre chose comme le Vatican, un bon restaurant ou un musée.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/04.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/05.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/06.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/07.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/08.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/zoo/09.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;compo-defiori--environs&quot;&gt;Compo de’Fiori &amp;amp; environs&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/compo-de-fiori/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/compo-de-fiori/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/compo-de-fiori/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/compo-de-fiori/04.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;la-place-del-popolo&quot;&gt;La place del Popolo&lt;/h3&gt;
&lt;p&gt;Une des plus belles places de Rome selon moi, j’ai beaucoup aimé. Je n’ai malheureusement pas pensé à prendre plus de photos ?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-del-popolo/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-del-popolo/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/piazza-del-popolo/03.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;-nourriture&quot;&gt;🍕 Nourriture&lt;/h3&gt;
&lt;p&gt;Un des points qui m’intéressait beaucoup en allant à Rome c’est la nourriture. On m’a souvent très bien vendu l’Italie, ses pizzas, glaces, cafés etc.
J’ai été assez déçu, nous avons réussi à trouver 2/3 restaurants corrects comme la &lt;a href=&quot;https://www.google.com/maps/place/Caffetteria+Gracchi/@41.9080847,12.462418,21z/data=!4m8!1m2!3m1!2sCaffetteria+Gracchi!3m4!1s0x132f605fca04ae23:0x16b066c05ce098c0!8m2!3d41.9080846!4d12.4624182&quot;&gt;pizzeria/cafettaria Gracchi&lt;/a&gt; , &lt;a href=&quot;https://www.google.com/maps/place/Amalfi+Ristoranti+Roma/@41.907092,12.4577438,285m/data=!3m2!1e3!4b1!4m5!3m4!1s0x132f6060e075c9bf:0x7a603e421126c216!8m2!3d41.907092!4d12.458291&quot;&gt;Amalfi Ristoranti&lt;/a&gt; à Rome ou la &lt;a href=&quot;https://www.focacceriacinquecento.com/&quot;&gt;Foccaceria CinqueCento&lt;/a&gt; proche de notre deuxième appartement vers Sarzana mais globalement en dehors des glaces qui sont vraiment bonnes,  nous avons eu du mal à trouver de bonnes pizza ou pâtes. Elles sont souvent très basiques et peu garnis :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/07.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Peut être que nous sommes un peu trop critique étant donné qu’à Paris on mange déjà très bien et qu’on peut pas vraiment juger sur un échantillon de 4 ou 5 restaurants mais bon. Je m’attendais à mieux.
Pour le prix, en dehors des gros points touristiques c’est moins cher qu’à Paris. Comptez entre 7€ et 10€ pour une pizza ou un plat de pâtes au restaurant et 1€ à 2€ pour un café espresso.
A la &lt;a href=&quot;https://www.focacceriacinquecento.com/&quot;&gt;Foccaceria CinqueCento&lt;/a&gt; nous avons été surpris du prix du menu, environ 22€ pour :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Un steak de black angus avec salades&lt;/li&gt;
  &lt;li&gt;Boisson à volonté (j’ai pris 2 bières)&lt;/li&gt;
  &lt;li&gt;Café&lt;/li&gt;
  &lt;li&gt;Dessert&lt;/li&gt;
  &lt;li&gt;Bouteille d’eau&lt;/li&gt;
  &lt;li&gt;Pain au four à volonté (mais déjà très bien garnis)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/10.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/11.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/12.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/nourriture/13.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;C’est loin d’être le moins cher de la région mais rien qu’avec le plat principal on était clairement calés.  Les desserts et le pain au four étaient juste excellents.
Après avoir été pas mal déçus par les restaurants, on était plutôt contents d’avoir une bonne surprise ?&lt;/p&gt;

&lt;h2 id=&quot;-4ème-jour-le-vatican&quot;&gt;⛪ 4ème jour, le Vatican&lt;/h2&gt;
&lt;p&gt;Jour 4, nous avions réservé à l’avance des tickets pour le Vatican. Nous avions des billets pour le Musée du Vatican mais aucun pour la basilique et la coupole, l’entrée étant gratuite si vous faites la queue (parfois très long, nous avons attendu 45min pour la coupole de la basilique). Vous pouvez cependant acheter des billets coupe-fil sur le site du Vatican.
C’est une de mes visites préférés sur Rome, j’ai adoré le musée avec ses statues, tableaux, fresques murales et plafonds. Quant à la basilique, outre le fait que c’est un lieu incontournable pour les catholiques, c’est aussi un lieu incontournable pour son architecture c’est juste sublime ! 
Seul petit bémol en bon Français râleur, les boutiques de souvenirs en interne du Vatican (en haut de la basilique par exemple) qui vendent des chapelets, croix, magnets du pape etc. vendent &lt;strong&gt;exactement&lt;/strong&gt; les mêmes articles que les vendeurs à la sauvette, boutiques de souvenir d’asiatiques/pakistanais. J’ai trouvé ça un peu dommage, ayant déjà eu à faire à ce genre de boutique dans un monastère en Crète. J’avais été agréablement surpris de voir que les moines vendaient des souvenirs, crèmes ou autres entièrement faits maison mais c’était beaucoup moins touristique que le Vatican, ceci explique peut être cela.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/04.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/05.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/06.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/07.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/08.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/09.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/10.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/11.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/12.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/13.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/15.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/16.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/17.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/19.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/20.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/vatican/14.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;️-5ème-jour-colisée-mont-palatin-et-forum-romain&quot;&gt;🏛️ 5ème jour, Colisée, Mont Palatin et Forum Romain&lt;/h2&gt;
&lt;p&gt;Avant de partir de Rome pour rejoindre Florence, nous nous devions de faire le Colisée, le Mont Palatin et le Forum Romain.
Nous n’avions pas réservés de billets à l’avance donc nous avons tentés de réserver le jour-J via un site internet. Réservation qui s’est avérée infructueuse puisque nous n’avons jamais reçu les billets ! (Heureusement nous avons pu déclarer le paiement en litige via paypal pour nous faire rembourser).
Il y avait beaucoup de monde pour rejoindre le Colisée, environ 1h d’attente, c’est passé assez vite malgré la chaleur écrasante.
On attendait beaucoup du &lt;strong&gt;Colisée&lt;/strong&gt; mais malheureusement on a été pas mal déçus aussi, c’est sympa à faire mais il y a très peu de panneaux descriptifs et traduits en anglais, on contemple les ruines tout en avançant et après 30min de tour on se dit “Bon bah c’est fini, on passe à la suite”.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/colisee/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/colisee/02.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;On a ensuite enchaîné avec le Mont Palatin et le Forum Romain. A ce stade du séjour on était assez fatigué à force d’enchaîner les visites sous 30°C.
On a donc fait le tour assez vite sans trop se préoccuper des panneaux de description de chaque bâtiment. On a privilégié les jolis emplacements pour prendre de belles photos tout en faisant le tour. Le tour du Colisée + Mont Palatin + Forum Romain nous aura finalement pris toute l’après midi (avec quelques détours en dehors).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/mont-palatin/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/mont-palatin/02.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;dautres-photos-de-rome&quot;&gt;D’autres photos de Rome&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/rome/25.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/rome/04.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/rome/39.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/rome/rome/40.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;bilan-de-rome&quot;&gt;Bilan de Rome&lt;/h2&gt;
&lt;p&gt;C’est sublime ! Je recommande vivement de visiter le Vatican et les différentes places de la ville. Pour un budget serré sur 2 ou 3 jours ça suffit amplement !
Du coté de la nourriture, nous avons été un peu déçu, on s’attendait vraiment à mieux. Le coût du voyage à Rome a fortement augmenté avec les fameux “à coté”, prix des activités, transports etc. ça monte vite ! Pour le transport nous avons utilisé le métro avec notre pass 1 semaine, Pass qui s’est finalement avéré ne pas être si intéressant que ça. Avant de prendre ce type de pass, essayez d’estimer un maximum le nombre de fois que vous allez prendre le métro ! Par défaut nous pensions utiliser le métro tous les jours, à hauteur de 2 à 3 fois sauf qu’en réalité nous avons beaucoup marché donc le métro ne servait que dans les cas de fatigue ultime.&lt;/p&gt;

&lt;h1 id=&quot;-visite-de-florence&quot;&gt;🚅 Visite de Florence&lt;/h1&gt;
&lt;p&gt;Fin du séjour sur Rome, début du trip dans la zone de Florence/Pise et des Cinque Terre !
Nous avons pris un train de la gare de Rome Tiburtina vers Firenze S.M.N vers 10h pour pouvoir profiter de Florence toute la journée.
On a globalement été assez content de visiter florence, c’est un tout autre style architectural comparé à Rome. Mention spéciale pour PonteVecchio qui reste notre coup de cœur avec la Place Michelangelo et sa fameuse statue de David. Les photos sont assez sombres car on a pas trop eu de chance avec la météo, il faisait orageux.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/florence/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/florence/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/florence/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/florence/04.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/florence/07.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/florence/06.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/florence/05.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Florence se visite très bien en une journée, on aurait bien voulu visiter le Jardin de Boboli mais à première vu c’est payant et la météo n’était pas avec nous.
Après avoir fait le tour de Florence, on a récupéré notre voiture de location vers 18h pour nous diriger vers Sarzana, notre lieu de résidence.&lt;/p&gt;

&lt;h1 id=&quot;-visite-de-pise&quot;&gt;🚅 Visite de Pise&lt;/h1&gt;
&lt;p&gt;Avant de faire les Cinque terre nous avons passé une demi journée sur Pise, ville emblématique avec sa tour penché à 3°.
Pour organiser mes voyages je regarde souvent les articles du Routard ou les points clefs à faire sur Google trip. J’ai été assez étonné de voir que Pise n’a pas grand chose d’intéressant à voir contrairement à Rome ou Florence. C’était sympathique de voir la tour et de l’ajouter à sa check-list mais en dehors de la place où se trouve la tour, la cathédrale et le baptistère. On a clairement rien vu ! Moralité, on a passé moins de temps que prévu sur Pise et on a fini notre journée à flâner dans le coin de notre appartement.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/pise/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/pise/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/pise/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/pise/04.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/pise/06.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/pise/05.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/pise/07.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;️-visite-des-cinque-terre&quot;&gt;☀️ Visite des Cinque Terre&lt;/h1&gt;
&lt;p&gt;La meilleur partie ! Fin des visites, des rush et du mauvais temps. Place aux paysages côtiers, aux plages, au bronzage ! ?
Qu’est ce que les Cinque Terre ?&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/map.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

  &lt;p&gt;Les Cinque Terre (en ligure : Çinque Taere, « Cinq Terres ») forment une partie de la côte de la Riviera italienne, dans la Ligurie, à l’ouest de la ville de La Spezia. Les Cinque Terre comprennent cinq villages : d’ouest en est, Monterosso al Mare, Vernazza, Corniglia, Manarola et Riomaggiore qui sont rattachés au parc national des Cinque Terre créé en 19991.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Les Cinque Terre occupent un paysage accidenté et escarpé, sur lequel ont été construites au fil des siècles des terrasses permettant l’agriculture. Les villages sont bâtis sur la côte méditerranéenne, dans des criques et sur les falaises. Malgré la construction d’une route et d’une voie ferroviaire au XXe siècle, leur accès reste difficile. 
&lt;a href=&quot;https://fr.wikipedia.org/wiki/Cinque_Terre&quot;&gt;Source Wikipédia&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Autrement dit, c’est un petit bout de paradis en Italie ! Contrairement à ce que je pensais au départ, les Cinque Terre c’est très TRÈS &lt;strong&gt;TRÈS&lt;/strong&gt; touristique !
Pour aller d’un village à un autre il y a plusieurs solutions: En scooter, à pied (via des sentiers de randonnée), en train ou en voiture (mais l’accès y est très restreint). 
On a opté pour le train, plus pratique et pas si cher que ça (16€/pers pour la journée avec accès illimité). On a vite l’impression d’être en plein Paris tellement il y a du monde dans le train mais une fois la tête dehors (compter environ 2 à 5min de trajet entre chaque village) le paysage prend vraiment le dessus. Les villages sont vivants, colorés et la vue est imprenable.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/02.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/03.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/05.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/06.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/07.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/08.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/09.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/11.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/13.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/14.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/15.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/16.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/17.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/18.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/19.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/20.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/21.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/04.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/01.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/10.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/italie-cinque-terre/cinque-terre/12.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;bilan&quot;&gt;Bilan&lt;/h1&gt;
&lt;p&gt;J’ai vraiment adoré ! Quelque peu déçu par la nourriture (même si on a pu se rattraper via certains restaurants) Rome est clairement une ville qui dépasse Paris en termes de monuments. 
Au final, après avoir passé 2 semaines sur Rome,Pise, Florence et les cinque terre, nous avons dépensés à peu près 1000€ chacun tout inclus. Ça peut paraître énorme pour 2 semaines mais comme je le disais plus haut il faut re-contextualiser (Appartement plutôt qu’auberge, prix des monuments, voitures avec frais de parking assez élevé, réservation 2 semaines avant, mois d’août etc).&lt;br /&gt;
Je recommande vivement de visiter Rome et ses environs, en organisant votre voyage à l’avance vous pouvez faire pas mal d’économies.&lt;/p&gt;
</description>
        <pubDate>Sat, 01 Sep 2018 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/italie-cinque-terre/main.jpg</image>
        <link>https://btor.fr/2018/09/01/italie-cinque-terre/</link>
        <guid isPermaLink="true">https://btor.fr/2018/09/01/italie-cinque-terre/</guid>
        
        <category>Voyage</category>
        
        
      </item>
    
      <item>
        <title>Réaliser une incrustation fond vert avec KDEnLive</title>
        <description>&lt;p&gt;Récemment j’ai pris la sage décision de quitter Windows 10 pour repasser sur Ubuntu sur mon pc fixe. J’étais dépendant de windows pour les jeux-vidéos mais comme je passe plus de temps à travailler/développer sur mon ordinateur, j’ai préféré migrer vers Ubuntu pour retrouver mes habitudes, mes softs préférés etc.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Problème !&lt;/strong&gt; Linux c’est beau, c’est fluide mais il faut reconfigurer un max de chose avant que tout soit opérationnel. La plupart du temps sur des distributions comme Ubuntu ou Fedora, la majeure partie des pilotes est prise en charge, nos habitudes ne changent pas trop à ce niveau là par contre il va falloir s’habituer à un écosystème légèrement différent.
Le système d’exploitation change, les applications aussi ! (pour la plupart).&lt;/p&gt;

&lt;p&gt;J’ai donc commencé à me renseigné sur le net afin de trouver des logiciels équivalents à ceux que j’utilise régulièrement sur Windows, par exemple Photoshop, Premiere pro, ShareX etc..&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Pour ShareX (logiciel de capture d’écran) , j’ai trouvé &lt;a href=&quot;https://doc.ubuntu-fr.org/shutter&quot;&gt;Shutter&lt;/a&gt; qui fait plutôt bien le job !&lt;/li&gt;
  &lt;li&gt;Pour Photoshop, j’ai trouvé … ? … Photoshop ! Peut être que vous ne le savez pas mais Adobe à rendu sa suite CS2 entièrement gratuite ! &lt;a href=&quot;https://helpx.adobe.com/fr/creative-suite/kb/cs2-product-downloads.html?promoid=19SCDRQK&quot;&gt;Pour en savoir plus, cliquez ici&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Et pour Premiere Pro, je me suis mis à tester &lt;a href=&quot;https://kdenlive.org/fr/&quot;&gt;KDEnLive&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;-début-avec-kdenlive&quot;&gt;🐥 Début avec KDEnLive&lt;/h2&gt;
&lt;p&gt;Globalement, j’ai trouvé l’interface très proche d’un première pro, la disposition des fenêtres et certains raccourcis clavier vous permettent de vous y retrouver très rapidement.&lt;/p&gt;

&lt;p&gt;J’ai commencé mes premiers “montages” sans trop de problème, à savoir que je ne suis pas monteur pro, j’utilise ce type de logiciel à des fins personnelles, ponctuellement et surtout pour des cas assez simple. 
Quand tout à coup, j’ai eu l’idée de refaire mon écran de chargement twitch. C’est là que les choses se sont compliquées … ?&lt;/p&gt;

&lt;h2 id=&quot;️-incrustation-du-fond-vert&quot;&gt;🛠️ Incrustation du fond vert&lt;/h2&gt;
&lt;p&gt;J’utilise la version 17.12.3 de KDEnLive, je ne reviendrais pas sur l’installation car celle-ci dépend de votre système d’exploitation.&lt;/p&gt;

&lt;p&gt;Dans un premier temps, ouvrez KDEnLive sur un nouveau projet:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/01.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Dans la fenêtre de gauche en dessous de “Nom”, faite clic-droit puis &lt;code class=&quot;highlighter-rouge&quot;&gt;Ajouter un clip&lt;/code&gt;. Sélectionnez vos vidéos,  dans ce tuto j’utilise &lt;a href=&quot;https://youtu.be/Dq_3bzyccRs&quot;&gt;cette vidéo&lt;/a&gt;  pour l’incrustation fond vert et &lt;a href=&quot;https://www.youtube.com/watch?v=rbUqOPw7w0U&quot;&gt;cette vidéo&lt;/a&gt; en guise de fond.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/02.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Une fois vos deux vidéos importées, placez les dans la timeline en bas (glisser-déposer) et vous devriez vous retrouver avec quelque chose du style :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/03.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sur votre vidéo fond vert, ajoutez une &lt;code class=&quot;highlighter-rouge&quot;&gt;transition composite&lt;/code&gt; et étendez là sur toute votre vidéo fond vert.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/04.jpg&quot; alt=&quot;&quot; /&gt; &lt;img src=&quot;/assets/images/kdenlive-green-screen/05.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;-1ère-technique&quot;&gt;🐣 1ère technique&lt;/h3&gt;
&lt;p&gt;La première technique est assez simple et connue de tout le monde, il s’agit d’utiliser le &lt;code class=&quot;highlighter-rouge&quot;&gt;ChromaKey&lt;/code&gt; ou &lt;code class=&quot;highlighter-rouge&quot;&gt;Couleur Clé&lt;/code&gt; sur KDEnLive.&lt;/p&gt;

&lt;p&gt;Cliquez sur votre vidéo fond vert dans la timeline et ajoutez lui un effet &lt;code class=&quot;highlighter-rouge&quot;&gt;Couleur clé&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/06.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Cliquez sur l’icone &lt;code class=&quot;highlighter-rouge&quot;&gt;Goutte d'eau&lt;/code&gt; afin de pouvoir sélectionner la couleur à extraire&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/07.jpg&quot; alt=&quot;&quot; /&gt; &lt;img src=&quot;/assets/images/kdenlive-green-screen/08.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Vous devriez obtenir ce résultat&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/09.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;À mon sens, cette technique est facile mais pas du tout satisfaisante, tout simplement parce que si l’on regarde de plus près. On aperçoit une bordure verte, ce rendu dépend énormément de la qualité de votre vidéo fond vert mais ce type de cas est très fréquent.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/10.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Heureusement il existe une solution pour atténuer cette bordure, ajouter l’effet &lt;code class=&quot;highlighter-rouge&quot;&gt;SpillSupress&lt;/code&gt; sur votre vidéo fond vert. Cet effet n’enlèvera pas les pixels vert mais va les “convertir” en gris, comme si la bordure étaient désaturée . Le rendu est déjà beaucoup plus correct.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/11.jpg&quot; alt=&quot;&quot; /&gt; &lt;img src=&quot;/assets/images/kdenlive-green-screen/12.jpg&quot; alt=&quot;&quot; /&gt; &lt;img src=&quot;/assets/images/kdenlive-green-screen/13.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Oui mais voilà, si vous regardez encore de plus près, vous pourrez remarquer que quand bien même la bordure verte a été atténuée, elle reste présente et le contour n’est pas lisse.&lt;/p&gt;

&lt;h3 id=&quot;-2ème-technique&quot;&gt;🐓 2ème technique&lt;/h3&gt;
&lt;p&gt;Il existe une autre technique pour effectuer une incrustation de fond vert qui selon moi est plus efficace que la première (du moins avec les échantillons de vidéos que j’ai pu tester).&lt;/p&gt;

&lt;p&gt;Supprimez l’effet &lt;code class=&quot;highlighter-rouge&quot;&gt;Couleur Clé&lt;/code&gt; ou &lt;code class=&quot;highlighter-rouge&quot;&gt;ChromaKey&lt;/code&gt; et ajoutez les effets &lt;code class=&quot;highlighter-rouge&quot;&gt;Sélection de couleur&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;Teinte&lt;/code&gt; puis jouez avec les différentes valeurs (écart, gain, valeur de nuance etc.) et précisez la couleur à supprimer (toujours notre vert, même principe que la 1ère technique).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/15.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Votre incrustation devrait paraître plus fine, plus propre. A noter que j’ai utilisé une teinte en fonction de mon fond assez sombre (noir vers blanc) et c’est d’ailleurs là où nous rencontrons un nouveau problème. Quand notre vidéo de fond va changer et passer à une scène plus claire, la teinte ne vas pas du tout correspondre.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/16.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pour régler ce type de soucis, j’ai coupé ma vidéo fond-vert en deux afin d’appliquer des paramètres différents sur l’effet “Teinte”&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/kdenlive-green-screen/17.jpg&quot; alt=&quot;&quot; /&gt; &lt;img src=&quot;/assets/images/kdenlive-green-screen/18.jpg&quot; alt=&quot;&quot; /&gt; &lt;img src=&quot;/assets/images/kdenlive-green-screen/19.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Je vous laisse voir le rendu finale de ce tutorial et n’hésitez pas à me laisser un commentaire si vous avez des questions.
&lt;a href=&quot;https://youtu.be/JetxE3jZupA&quot;&gt;Cliquez ici pour voir la vidéo youtube&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Peace !&lt;/p&gt;
</description>
        <pubDate>Tue, 17 Apr 2018 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/kdenlive-green-screen/main.jpg</image>
        <link>https://btor.fr/2018/04/17/kdenlive-green-screen/</link>
        <guid isPermaLink="true">https://btor.fr/2018/04/17/kdenlive-green-screen/</guid>
        
        <category>Photos &amp; Vidéo</category>
        
        <category>Tutorial</category>
        
        
      </item>
    
      <item>
        <title>Chiffrer ses données avec GPG en CLI</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://fr.wikipedia.org/wiki/GNU_Privacy_Guard&quot;&gt;GPG (GNU Privacy Guard)&lt;/a&gt; est une implémentation de &lt;a href=&quot;https://fr.wikipedia.org/wiki/OpenPGP&quot;&gt;OpenPGP&lt;/a&gt;.
GPG permet de chiffrer/signer des fichiers dans le but d’échanger de l’information en toute sécurité. 
Dans cet article nous allons voir comment procéder sans utiliser d’interface graphique afin de bien comprendre le mécanisme.&lt;/p&gt;

&lt;h1 id=&quot;️-fonctionnement&quot;&gt;⚙️ Fonctionnement&lt;/h1&gt;
&lt;p&gt;Le fonctionnement est assez simple, voici l’exemple typique d’échange de données chiffrées via GPG entre 2 personnes (Marlène et Arthur).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Marlène &lt;strong&gt;créer ses clefs de chiffrement&lt;/strong&gt; (une clef publique et une clef privée)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Marlène &lt;strong&gt;envoie sa clef publique&lt;/strong&gt; aux personnes avec qui elle souhaite discuter (ici Arthur)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Arthur utilise &lt;strong&gt;la clef publique de Marlène&lt;/strong&gt; pour chiffrer ses propres fichiers et lui renvoie la version chiffrée de son document.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Marlène utilise alors &lt;strong&gt;sa clef privée pour déchiffrer&lt;/strong&gt; le message/fichier d’Arthur.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/chiffrer-donnees-gpg/GPG.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Cliquez sur l’image pour l’afficher en grand&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;Ce qui est important :&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Ne partager que votre clef publique&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Votre clef privée ne sert qu’au déchiffrement&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Gardez en lieu sûr votre clef privée&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;️-la-pratique&quot;&gt;🛠️ La pratique&lt;/h1&gt;
&lt;p&gt;Dans cet exemple j’utilise GPG sur ubuntu 16.04 libre à vous d’utiliser GPG sur linux/windows ou mac.&lt;/p&gt;

&lt;h3 id=&quot;-création-des-clefs&quot;&gt;🔑 Création des clefs&lt;/h3&gt;
&lt;p&gt;La première étape consiste à générer des clefs. Pour se faire, rien de plus simple :&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;marlene@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg2 &lt;span class=&quot;nt&quot;&gt;--full-gen-key&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Il existe 2 commandes pour générer des clefs, celle présente ci-dessus ainsi que &lt;code class=&quot;highlighter-rouge&quot;&gt;gpg2 --gen-key&lt;/code&gt;, cette dernière permet de lancer l’étape de génération de clef par défaut, elle vous demandera simplement un nom, un email et vous générera un couple de clefs RSA en 2048 bits. Pratique, rapide mais ne vous permet pas choisir le type de clef désiré ni même sa robustesse.
J’opte donc pour &lt;code class=&quot;highlighter-rouge&quot;&gt;--full-gen-key&lt;/code&gt; afin de générer une clef 4096 bits en RSA.&lt;/p&gt;

&lt;p&gt;Vous devriez avoir donc ceci :&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gpg &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;GnuPG&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2.1.11&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2016 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Sélectionnez le &lt;span class=&quot;nb&quot;&gt;type &lt;/span&gt;de clef désiré :
   &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSA et RSA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;par défaut&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; DSA et Elgamal
   &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;3&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; DSA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;signature seule&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;signature seule&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Quel est votre choix ?
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;A cette question, choisissez la valeur par défaut : RSA et RSA&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Quel est votre choix ? 1
les clefs RSA peuvent faire une taille comprise entre 1024 et 4096 bits.
Quelle taille de clef désirez-vous ? &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2048&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 4096
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Plus votre taille de clef est grande, plus celle-ci est robuste, optez donc pour une clef de 4096 bits.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;La taille demandée est 4096 bits
Veuillez indiquer le temps pendant lequel cette clef devrait être valable.
         0 &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; la clef n&lt;span class=&quot;s1&quot;&gt;'expire pas
      &amp;lt;n&amp;gt;  = la clef expire dans n jours
      &amp;lt;n&amp;gt;w = la clef expire dans n semaines
      &amp;lt;n&amp;gt;m = la clef expire dans n mois
      &amp;lt;n&amp;gt;y = la clef expire dans n ans
Pendant combien de temps la clef est-elle valable ? (0)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Gros dilemme, &lt;strong&gt;par défaut la clef n’expire pas&lt;/strong&gt; c’est à dire que vous pourrez l’utiliser ad vitam æternam. Dans un monde idéal il serait judicieux d’avoir une vraie politique de sécurité et de renouveler ses clefs tous les X mois/années. 
En fonction de l’utilisation de GPG (chiffrement personnel de vos photos de vacances ou chiffrement de données professionnelles) vous aurez tout intérêt à faire en sorte que votre clef expire dans 6 mois, 1 an ou plus.&lt;/p&gt;

&lt;p&gt;Libre à vous de choisir la durée de validité, dans mon cas je reste sur une clef qui n’expire jamais.&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Pendant combien de temps la clef est-elle valable ? &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 
La clef n&lt;span class=&quot;s1&quot;&gt;'expire pas du tout
Est-ce correct ? (o/N) o
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Validez en tapant &lt;code class=&quot;highlighter-rouge&quot;&gt;o&lt;/code&gt; puis entrer&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GnuPG doit construire une identité pour identifier la clef.

Nom réel : Marlène DURAND
Adresse électronique : marlene.durand@gmail.com
Commentaire : 
Vous utilisez le jeu de caractères « utf-8 ».
Vous avez sélectionné cette identité :
    « Marlène DURAND &amp;lt;marlene.durand@gmail.com&amp;gt; »

Changer le &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;N&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;om, le &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;ommentaire, l&lt;span class=&quot;s1&quot;&gt;'(A)dresse électronique
ou (O)ui/(Q)uitter ? O
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;GPG va ensuite vous demander quelques informations vous concernant comme votre nom, email et un commentaire sur la clef.  Remplissez les et validez en tapant &lt;code class=&quot;highlighter-rouge&quot;&gt;O&lt;/code&gt; puis entrer&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;De nombreux octets aléatoires doivent être générés. Vous devriez faire
autre chose &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;taper au clavier, déplacer la souris, utiliser les disques&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
pendant la génération de nombres premiers &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; cela donne au générateur de
nombres aléatoires une meilleure chance d&lt;span class=&quot;s1&quot;&gt;'obtenir suffisamment d'&lt;/span&gt;entropie.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;GPG vous demandera de définir une passphrase (un mot de passe quoi) afin de générer les clefs. Faites en sorte de mettre un mot de passe complexe afin de garantir sa robustesse, et accessoirement souvenez-vous du mot de passe … ça pourrait être utile pour la suite ?&lt;/p&gt;

&lt;p&gt;La génération peut prendre quelques minutes, faites couler un café, raconter votre weekend à vos collègues et revenez après ?&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gpg: clef AC907F30 marquée de confiance ultime.
gpg: revocation certificate stored as &lt;span class=&quot;s1&quot;&gt;'/home/btor/.gnupg/openpgp-revocs.d/C826A880D01D7EE90D7785A28B728B0DAC907F30.rev'&lt;/span&gt;
les clefs publique et secrète ont été créées et signées.

gpg: vérification de la base de confiance
gpg: marginals needed: 3  completes needed: 1  trust model: PGP
gpg: profondeur : 0  valables :   2  signées :   0
     confiance : 0 i., 0 n.d., 0 j., 0 m., 0 t., 2 u.
pub   rsa4096/AC907F30 2018-04-16 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;S]
      Empreinte de la clef &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; C826 A880 D01D 7EE9 0D77  85A2 8B72 8B0D AC90 7F30
uid        &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;  ultime &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Marlène DURAND &amp;lt;marlene.durand@gmail.com&amp;gt;
sub   rsa4096/6969D94F 2018-04-16 &lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;La génération terminée, vous devriez avoir un récapitulatif des clefs qui ont été générées.&lt;/p&gt;

&lt;p&gt;Pour vérifier les clefs disponibles dans votre trousseau GPG, tapez &lt;code class=&quot;highlighter-rouge&quot;&gt;gpg2 --list-keys&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;marlene@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg2 &lt;span class=&quot;nt&quot;&gt;--list-keys&lt;/span&gt;
gpg: vérification de la base de confiance
gpg: marginals needed: 3  completes needed: 1  trust model: PGP
gpg: profondeur : 0  valables :   1  signées :   0
     confiance : 0 i., 0 n.d., 0 j., 0 m., 0 t., 1 u.
/home/btor/.gnupg/pubring.kbx
&lt;span class=&quot;nt&quot;&gt;-----------------------------&lt;/span&gt;
pub   rsa4096/AC907F30 2018-04-16 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;SC]
uid        &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;  ultime &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Marlène DURAND &amp;lt;marlene.durand@gmail.com&amp;gt;
sub   rsa4096/6969D94F 2018-04-16 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;E]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;️-envoie-de-la-clef-publique&quot;&gt;✉️ Envoie de la clef publique&lt;/h3&gt;
&lt;p&gt;Maintenant que nos clefs sont générées, nous allons &lt;strong&gt;envoyer notre clef publique à tout nos correspondants&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Pour extraire votre clef publique, tapez :&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;marlene@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg2 &lt;span class=&quot;nt&quot;&gt;--armor&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--export&lt;/span&gt; marlene.durand@gmail.com &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; marlene.asc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pensez à remplacer marlene.durand@gmail.com par l’email de votre clef&lt;/p&gt;

&lt;p&gt;Par défaut, GPG vous exporte la clef publique, si vous désirez exporter la clef privée pour la mettre sur un autre serveur par exemple, vous devrez utiliser :&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;marlene@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg2 &lt;span class=&quot;nt&quot;&gt;--armor&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--export-secret-keys&lt;/span&gt; marlene.durand@gmail.com &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; marlene_private.asc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Notez que l’option –armor permet de convertir la sortie (par défaut binaire) en ASCII.&lt;/p&gt;

&lt;h3 id=&quot;-chiffrer-un-fichier&quot;&gt;🔒 Chiffrer un fichier&lt;/h3&gt;
&lt;p&gt;Commençons par créer un fichier d’exemple sur le pc d’Arthur :&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;arthur@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Ce message est à destination de marlène&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; message
arthur@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;message
Ce message est à destination de marlène
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Arthur dispose de la clef publique de Marlène, ils peuvent désormais l’utiliser pour chiffrer tout type de fichier.
Importons la clef de Marlène dans le trousseau GPG d’Arthur :&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;arthur@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg2 &lt;span class=&quot;nt&quot;&gt;--import&lt;/span&gt; marlene.asc 
gpg: clef AC907F30 : clef publique « Marlène DURAND &amp;lt;marlene.durand@gmail.com&amp;gt; » importée
gpg:       Quantité totale traitée : 1
gpg:                     importées : 1  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RSA: 1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pour chiffrer le fichier “message”, il suffit d’utiliser cette commande :&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;arthur@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg2 &lt;span class=&quot;nt&quot;&gt;--output&lt;/span&gt; message.gpg &lt;span class=&quot;nt&quot;&gt;--encrypt&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--armor&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--recipient&lt;/span&gt; marlene.durand@gmail.com message
gpg: 6969D94F : aucune assurance que la clef appartienne vraiment à l&lt;span class=&quot;s1&quot;&gt;'utilisateur nommé.

pub  4096R/6969D94F 2018-04-16 Marlène DURAND &amp;lt;marlene.durand@gmail.com&amp;gt;
Empreinte clef princip. : C826 A880 D01D 7EE9 0D77  85A2 8B72 8B0D AC90 7F30
 Empreinte de sous-clef : E601 A72E D893 CBED D548  F6DF C8A4 316C 6969 D94F

La clef n'&lt;/span&gt;appartient PAS forcément à la personne nommée
dans l&lt;span class=&quot;s1&quot;&gt;'identité. Si vous savez *vraiment* ce que vous
faites, vous pouvez répondre oui à la prochaine question.


Faut-il quand même utiliser cette clef ? (o/N) o
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Un fichier message.gpg a été généré, c’est ce fichier qui sera mis à disposition de Marlène.&lt;/p&gt;

&lt;h3 id=&quot;-déchiffrement&quot;&gt;🔓 Déchiffrement&lt;/h3&gt;
&lt;p&gt;Marlène reçoit le fichier “message.gpg” et doit le déchiffrer, rien de plus simple ! Il suffit de taper :&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;marlene@pc:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gpg2 &lt;span class=&quot;nt&quot;&gt;--decrypt&lt;/span&gt; arthur.gpg 
gpg: chiffré avec une clef RSA de 4096 bits, identifiant 6969D94F, créée le 2018-04-16
      « Marlène DURAND &amp;lt;marlene.durand@gmail.com&amp;gt; »
Ce message est à destination de marlène
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Notez que nous aurions pu rediriger la sortie vers un fichier afin de sauvegarder le résultat &lt;code class=&quot;highlighter-rouge&quot;&gt;gpg2 --decrypt arthur.gpg  &amp;gt; arthur&lt;/code&gt;&lt;/p&gt;

&lt;h1 id=&quot;-a-noter&quot;&gt;📝 A noter&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Votre &lt;strong&gt;clef privée doit rester PRIVEE&lt;/strong&gt; vous ne devez partager que votre clef publique&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;La procédure ci-dessus &lt;strong&gt;ne prends pas en compte la signature des fichiers&lt;/strong&gt; (vérification des émetteurs) &lt;strong&gt;vous pouvez&lt;/strong&gt; bien évidemment (et c’est recommandé) &lt;strong&gt;signer vos fichiers avec l’option &lt;code class=&quot;highlighter-rouge&quot;&gt;--sign&lt;/code&gt;&lt;/strong&gt;. J’ai voulu faire simple pour que ce soit plus facilement abordable.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Il est &lt;strong&gt;possible de chiffrer vos fichiers symétriquement&lt;/strong&gt; en utilisant l’option &lt;code class=&quot;highlighter-rouge&quot;&gt;--symetric&lt;/code&gt; , très peu recommandé mais bon à savoir&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 17 Apr 2018 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/chiffrer-donnees-gpg/main.jpg</image>
        <link>https://btor.fr/2018/04/17/chiffrer-donnees-gpg/</link>
        <guid isPermaLink="true">https://btor.fr/2018/04/17/chiffrer-donnees-gpg/</guid>
        
        <category>Securite</category>
        
        
      </item>
    
      <item>
        <title>Comment s'abonner à une chaine twitch sans dépenser 1€ ?</title>
        <description>&lt;p&gt;Comme vous le savez, je stream de temps en temps sur &lt;a href=&quot;http://twitch.tv/bt0r&quot;&gt;twitch.tv&lt;/a&gt; , j’y propose majoritairement du développement web ou applicatif (développement d’un bot twitch en Java ou du site btor.fr en Php Symfony 3) mais aussi parfois du jeux-vidéo. A coté de mes streams je regarde beaucoup d’autres lives. Je suis donc d’assez près l’actualité de twitch pour rester informé des mises à jour de l’&lt;a href=&quot;https://dev.twitch.tv/&quot;&gt;API Twitch&lt;/a&gt; notamment.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt; &lt;a href=&quot;https://www.clubic.com/twitch/actualite-852874-twitch-accepte-paiements-bitcoin.html&quot;&gt;Twitch à récemment arrété d’accepter les paiements par cryptomonnaie, cet article est désormais obsolète.&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;-twitch--gamer--sub-gratuit&quot;&gt;💸 Twitch + Gamer = Sub gratuit&lt;/h2&gt;
&lt;p&gt;Récemment, twitch a étendu ses modes de paiement pour y intégrer … Le Bitcoin ! ( voir &lt;a href=&quot;https://twitter.com/biiitor/status/951732767775215616&quot;&gt;ce tweet&lt;/a&gt; ). L’arrivée du bitcoin en tant que moyen de paiement permet à ceux qui n’ont pas trop d’argent et un pc dit “Gamer” de pouvoir générer du bitcoin et ainsi s’abonner aux chaines qu’ils décident, tout ça, sans rien faire ! ou presque …
&lt;strong&gt;Vous n’y connaissez rien en cryptomonnaies mais vous avez un ordinateur de gamer et pas un euro en poche ? lisez la suite…&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;-le-bitcoin-cest-quoi-&quot;&gt;₿ Le bitcoin, c’est quoi ?&lt;/h2&gt;
&lt;p&gt;Je ne vais pas vous faire une description complète de ce qu’est le bitcoin et l’environnement des cryptomonnaies car c’est long, complexe et j’envisage de faire un article dessus. Par contre, nous allons revoir les bases rapidement.
Le bitcoin est une cryptomonnaie, on peut acheter, vendre, échanger du bitcoin sur internet via des plateformes d’échange ou des “Wallet” (portefeuille) en ligne comme &lt;a href=&quot;https://www.coinbase.com/join/5a20090d65d98a026abb3fd2&quot;&gt;Coinbase&lt;/a&gt; , &lt;a href=&quot;https://blockchain.info&quot;&gt;Blockchain.info&lt;/a&gt;, &lt;a href=&quot;https://www.cryptonator.com/&quot;&gt;Cryptonator&lt;/a&gt;, &lt;a href=&quot;https://www.kraken.com/&quot;&gt;Kraken&lt;/a&gt; et bien d’autres.
Il faut assimiler ces portefeuilles à un compte bancaire, ils vont vous permettre de recevoir/envoyer de l’argent à un proche, une société… Et c’est justement là que ça nous intéresse ! Si vous avez bien lu le tweet de twitch,  Twitch annonce gérer les paiements par bitcoin (via bitpay ) mais aussi via &lt;strong&gt;Coinbase&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;️-comment-fonctionne-le-bitcoin-&quot;&gt;⚙️ Comment fonctionne le bitcoin ?&lt;/h2&gt;
&lt;p&gt;Le bitcoin est une cryptomonnaie décentralisée qui fonctionne avec le principe de “Blockchain” (une sorte de base de données), il n’y a pas de banque centrale, pas d’organisme ou autre pour gérer les transactions du bitcoin. Ce sont les utilisateurs qui vérifient les transactions, c’est ce qu’on appelle le &lt;strong&gt;mining&lt;/strong&gt; (minage en français). N’ayez crainte, il n’y a pas besoin de connaitre tout le principe de blockchain et du mining pour profiter de ce “bon plan”, je vais simplifier au maximum.&lt;/p&gt;

&lt;h3 id=&quot;️-le-minage&quot;&gt;⛏️ Le minage&lt;/h3&gt;
&lt;p&gt;Comme expliqué au dessus, le mining permet de vérifier les transactions d’une cryptomonnaie (bitcoin, ethereum ou autre) dans le but de les certifier afin qu’elles soient ajoutées à la blockchain. Une fois la transaction vérifiée et certifiée les mineurs (vous, moi,jean-paul, robert … ) sont rémunérés, en bitcoin ou dans la monnaie qu’ils ont minés.&lt;/p&gt;

&lt;p&gt;Pourquoi sont-ils rémunérés ? Tout simplement parce que pour miner des &lt;strong&gt;crypto&lt;/strong&gt;-monnaies  il faut faire des calculs très complexe (hash cryptographique) qui demandent énormément de puissance de calcul, on “transforme” donc la puissance de calcul en cryptomonnaie, comprenez par là que plus vous allez avoir une puissance de calcul élevé, plus vous allez gagner de l’argent (il n’y a rien sans rien). Autrement dis, si vous comptiez miner avec le CPU de votre téléphone portable, vous pouvez d’ores et déjà passer à autre chose.&lt;/p&gt;

&lt;h3 id=&quot;-cest-cool-mais-comment-on-mine--jy-connais-rien&quot;&gt;❓ C’est cool mais comment on mine ? j’y connais rien&lt;/h3&gt;
&lt;p&gt;Très bonne question ! Il suffit d’avoir une feuille et un crayon et de faire vous même les calculs de hash SHA-256 à la main … &lt;strong&gt;NAN J’DECONNE !&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/amxLHEPgGDCKs/giphy.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pour miner il faut posséder un portefeuille de cryptomonnaie, faire parti d’un pool de minage ( j’ai volontairement évité ce sujet pour faire en sorte que ça reste simple à comprendre) et un logiciel de minage qui utilisera votre CPU ou votre(vos) GPU(s).&lt;/p&gt;

&lt;h3 id=&quot;-la-complexité&quot;&gt;⛓ La complexité&lt;/h3&gt;
&lt;p&gt;Passons aux choses sérieuses, nous savons maintenant ce qu’est approximativement le bitcoin, nous savons que pour gagner des bitcoin il faut miner ! Oui mais voilà … il y a un autre problème : &lt;strong&gt;La complexité&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Comme annoncé, le bitcoin est basé sur le principe de blockchain, c’est une sorte de base de données qui contient l’historique de toutes les transactions vérifiées du bitcoin. Plus il y a de transaction, plus la blockchain est grosse, plus c’est long à calculer ! 
Aujourd’hui, il n’est plus possible de miner du bitcoin avec un simple ordinateur car la puissance de calcul nécessaire est beaucoup trop élevé. Mais alors, comment faire ? Comment récupérer du bitcoin sans miner du bitcoin !? 
Certains logiciels de minage vous permettent de miner et d’être rémunéré avec du bitcoin, peu importe la monnaie que vous minez ! C’est le cas de &lt;a href=&quot;https://www.nicehash.com&quot;&gt;NiceHash&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;️-la-pratique&quot;&gt;🛠️ La pratique&lt;/h2&gt;
&lt;p&gt;A ce stade de l’article, vous devriez comprendre ce que nous allons faire pour s’abonner à nos streamers préférés sans dépenser 1€.
Nous allons utiliser notre ordinateur pour miner différentes monnaies et avoir en retour du bitcoin dans notre portefeuille de cryptomonnaie, bitcoin que nous réutiliserons pour nous abonnés à des chaines twitch.&lt;/p&gt;

&lt;h3 id=&quot;-création-du-compte-coinbase&quot;&gt;👤 Création du compte Coinbase&lt;/h3&gt;
&lt;p&gt;Avant de miner, il est important d’avoir un compte Coinbase (&lt;a href=&quot;https://www.coinbase.com/join/5a20090d65d98a026abb3fd2&quot;&gt;Créer un compte&lt;/a&gt;). Nous pourrions utiliser la méthode de paiement “BitPay” sur twitch mais le soucis c’est que les frais de transactions bitcoin sont très élevés (vous allez payer plus cher de frais que d’abonnement twitch).&lt;/p&gt;

&lt;p&gt;Coinbase permet d’avoir un compte “non vérifié” c’est à dire que vous pourrez recevoir de l’argent ou payer via votre portefeuille &lt;strong&gt;sans déclarer votre identité réelle&lt;/strong&gt; (carte bancaire, passport, permis de conduire etc..) , dans le cas ou vous voudriez récupérer votre argent sur votre compte bancaire, il faudra forcément passer par l’étape de vérification de votre compte.&lt;/p&gt;

&lt;h3 id=&quot;-création-du-compte-nicehash&quot;&gt;👤 Création du compte NiceHash&lt;/h3&gt;
&lt;p&gt;NiceHash est une société qui propose divers services autour du mining (wallet, achat de puissance de calcul, logiciel de mining). C’est bien évidemment le logiciel de mining open source (&lt;a href=&quot;https://github.com/nicehash&quot;&gt;Github&lt;/a&gt;)  qui nous intéresse.
Le logiciel de mining de NiceHash est plutôt bien fait, il permet d’optimiser nos gains en minant les cryptomonnaies les plus rentables avec le matériel dont on dispose.
A titre d’exemple, avec ma Nvidia GeForce 970 GTX, NiceHash va majoritairement miner de l’equihash, ce qui sera différent sur un ordinateur qui possède une 1080 ou une RX580 etc.. étant donné que sa puissance de calcul sera supérieure.&lt;/p&gt;

&lt;p&gt;Commencer par &lt;a href=&quot;https://www.nicehash.com/register&quot;&gt;créer votre compte nicehash&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Une fois le compte NiceHash crée, vous devrez avoir accès à votre porte feuille, profitez en pour récupérer l’adresse de votre portefeuille disponible ici :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/bitcoin-twitch/wallet.png&quot; alt=&quot;Photos portefeuille&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Copier cette adresse dans votre presse-papier ou gardez là de coté, elle vous servira pour la prochaine étape.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://miner.nicehash.com/&quot;&gt;? Télécharger&lt;/a&gt; le logiciel de mining sur le site officiel de nicehash , faites bien attention à prendre la version correspondant à votre carte graphique Nvidia ou AMD.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/bitcoin-twitch/wallet2.png&quot; alt=&quot;NiceHash application&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lancer l’application NiceHash, cliquez sur l’icone “Wallet” et coller votre adresse NiceHash que vous avez précédemment copier.
NiceHash vous demandera certainement de lancer un benchmark afin de connaitre approximativement votre ratio (hashrate) sur les différentes monnaies, si c’est le cas, laissez le tourner et aller boire un café, ça peut prendre quelques minutes…&lt;/p&gt;

&lt;p&gt;Une fois votre wallet renseigné dans l’application et le benchmark d’effectué,vous devriez avoir un bouton vert “Start” qui s’affiche, si c’est le cas, c’est que vous êtes désormais prêt à miner !&lt;/p&gt;
&lt;h4 id=&quot;️-miner-&quot;&gt;⛏️ Miner !&lt;/h4&gt;
&lt;p&gt;Pour miner, c’est très simple, il vous suffit de cliquer sur le bouton vert “Start”. Vous devriez voir l’icone “Start” de transformer en “Stop” et voir vos revenus quotidien dans “Daily estimated earning”. Si vous le désirez, vous pouvez avoir plus de détail sur ce qui est en cours de minage par l’application en cliquant sur “Mining details”, c’est ici qu’on verra le hashrate / seconde, le type d’algorithme ( et donc de monnaie ) qui est miner, le profit par jour par carte graphique ou processeur etc.
A noté que ce bouton “Mining details” n’est disponible qu’en cours de minage, si le mineur est arrêté le bouton affichera “Hardware details”, ce qui vous permettra de désactiver/activer vos GPU ou vos CPU ( dans mon cas je mine avec CPU + GPU ).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/bitcoin-twitch/mining1.png&quot; alt=&quot;NiceHash application&quot; /&gt;  &lt;img src=&quot;/assets/images/bitcoin-twitch/mining2.png&quot; alt=&quot;NiceHash application&quot; /&gt;  &lt;img src=&quot;/assets/images/bitcoin-twitch/mining3.png&quot; alt=&quot;NiceHash application&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;-transfert-vers-coinbase&quot;&gt;🧾 Transfert vers Coinbase&lt;/h3&gt;
&lt;p&gt;Votre mineur tourne, vous commencez à récoltez vos premiers euros et tout va pour le mieux… Cependant il y a plusieurs choses à prendre en compte (encore, oui je sais …).&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;L’argent que vous avez dans votre wallet n’est pas en EUROS, ce sont des Bitcoins&lt;/strong&gt;, ce qui veut dire que si le cours du bitcoin chute … vous aurez moins d’argent, si le cours augmente vous aurez plus. C’est un détail que je préfère bien appuyer car il est vraiment important.&lt;/li&gt;
  &lt;li&gt;Autre point, &lt;strong&gt;l’argent dont vous disposez&lt;/strong&gt; sur votre wallet nicehash &lt;strong&gt;doit être transféré vers coinbase&lt;/strong&gt; afin de pouvoir payer vos abonnements twitch.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Passons donc au virement Nicehash vers Coinbase (vous pouvez suivre les étapes via les captures d’écrans) :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Rendez-vous sur le &lt;a href=&quot;https://www.nicehash.com/login&quot;&gt;site de nicehash&lt;/a&gt; et connectez-vous.&lt;/li&gt;
  &lt;li&gt;Sur votre Dashboard, cliquez sur “&lt;a href=&quot;https://www.nicehash.com/wallet&quot;&gt;Wallet&lt;/a&gt;”&lt;/li&gt;
  &lt;li&gt;Dans votre wallet, cliquez sur “Withdraw”, une fenêtre s’affiche vous proposant de faire soit un virement vers un wallet externe, soit vers coinbase&lt;/li&gt;
  &lt;li&gt;Sélectionner “Withdraw to my Coinbase account”&lt;/li&gt;
  &lt;li&gt;Remplissez les divers informations demandées (email de votre compte Coinbase, double authentification etc.) puis valider&lt;/li&gt;
  &lt;li&gt;Vous devrez recevoir un mail de coinbase vous indiquant que vous avez reçu de l’argent de NiceHash&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/bitcoin-twitch/wallet3.png&quot; alt=&quot;NiceHash application&quot; /&gt; &lt;img src=&quot;/assets/images/bitcoin-twitch/withdrawal.png&quot; alt=&quot;NiceHash application&quot; /&gt; &lt;img src=&quot;/assets/images/bitcoin-twitch/withdrawal2.png&quot; alt=&quot;NiceHash application&quot; /&gt; &lt;img src=&quot;/assets/images/bitcoin-twitch/coinbase-email.png&quot; alt=&quot;NiceHash application&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;-paiement-via-twitch&quot;&gt;💳 Paiement via twitch&lt;/h3&gt;
&lt;p&gt;Maintenant que nous avons miner et transférer l’argent sur coinbase, il ne nous manque plus qu’a l’utiliser !&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Rendez-vous sur la page twitch de votre choix&lt;/li&gt;
  &lt;li&gt;Cliquez sur “S’abonner”  puis choisissez l’offre de votre choix par exemple 4,99$&lt;/li&gt;
  &lt;li&gt;Cliquez sur “Choisir un autre moyen de paiement”&lt;/li&gt;
  &lt;li&gt;Si “Coinbase” s’affiche, cliquez dessus, sinon cliquez sur “Afficher plus de modes”  et vous devrez le voir apparaitre&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/bitcoin-twitch/twitch-subscribe.png&quot; alt=&quot;NiceHash application&quot; /&gt; &lt;img src=&quot;/assets/images/bitcoin-twitch/twitch-paiement.png&quot; alt=&quot;NiceHash application&quot; /&gt; &lt;img src=&quot;/assets/images/bitcoin-twitch/twitch-paiement2.png&quot; alt=&quot;NiceHash application&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Et voilà, vous vous êtes abonné sans même avoir dépensé 1€ (mais quelques minutes à lire et comprendre cet article … ? )&lt;/p&gt;

&lt;h2 id=&quot;-a-retenir&quot;&gt;💭 A retenir&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Miner demande d’avoir un GPU assez performant&lt;/strong&gt;, oublier le mining si vous avez une GeForce 2 ca ne sera pas rentable.&lt;/li&gt;
  &lt;li&gt;Ne miner que quand vous ne vous servez pas de votre ordinateur, par exemple la nuit ou quand vous n’êtes pas devant l’ordi&lt;/li&gt;
  &lt;li&gt;Prenez en compte que &lt;strong&gt;plus votre GPU est sollicité, plus il va consommer de l’electricité&lt;/strong&gt;. Si vous miner pour vous payer un sub ou deux, votre facture d’electricité ne devrait pas énormément bouger (de l’ordre d’un ou deux euros) , par contre, si vous décidez de miner de grosse sommes d’argent, pensez à bien faire vos calculs entre vos gains et votre consommation électrique sinon vous pourriez rapidement faire des bêtises. Les sites comme CryptoCompare proposent des simulateurs, par exemple avec &lt;a href=&quot;https://www.cryptocompare.com/mining/calculator/zec?HashingPower=200&amp;amp;HashingUnit=H%2Fs&amp;amp;PowerConsumption=200&amp;amp;CostPerkWh=0.12&amp;amp;MiningPoolFee=1&quot;&gt;celui-ci&lt;/a&gt; qui vous permet de voir ce que vous allez réellement gagner après déduction des frais électriques en minant du ZCash (Algorithme Equihash).&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;N’utilisez pas les virements BTC&amp;lt;&amp;gt;BTC&lt;/strong&gt; , les frais de transactions sont bien trop couteux, privilégier les transferts par coinbase qui eux ne comportent pas ou peu de taxes ?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Si vous avez la moindre question, n’hésitez pas à en parler dans les commentaires, j’y répondrai volontiers.&lt;/p&gt;
</description>
        <pubDate>Fri, 12 Jan 2018 00:00:00 -0600</pubDate>
        <image>https://btor.fr/assets/images/bitcoin-twitch/main.jpg</image>
        <link>https://btor.fr/2018/01/12/bitcoin-twitch/</link>
        <guid isPermaLink="true">https://btor.fr/2018/01/12/bitcoin-twitch/</guid>
        
        <category>Twitch</category>
        
        <category>Cryptomonnaie</category>
        
        <category>Bon plans</category>
        
        
      </item>
    
      <item>
        <title>Test: Google Home Mini</title>
        <description>&lt;h3 id=&quot;-ok-google-quel-temps-va-t-il-faire-demain-&quot;&gt;💬 “Ok google, quel temps va t-il faire demain ?”&lt;/h3&gt;
&lt;p&gt;Derrière cette phrase du quotidien se cache en réalité une enceinte connectée, la nouvelle mouture de Google nommée &lt;a href=&quot;https://store.google.com/fr/product/google_home_mini&quot;&gt;Google Home Mini&lt;/a&gt; .
Ce petit bijou du 21ème siècle est en réalité très simple, une enceinte, un micro, un bouton et une prise micro-usb, le tout connecté à une synthèse vocal (Google Assistant) vous permettant de lui demander de faire pas mal de chose pour vous.
Comme par exemple :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Ok Google, réveil moi demain à 7h40&lt;/li&gt;
  &lt;li&gt;Ok Google, donne moi le cours de l’action LDLC&lt;/li&gt;
  &lt;li&gt;Dis Google, raconte moi une blague !&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Vous pouvez pratiquement TOUT lui demander ! Bon, il est vrai que même si ça fait le café ☕ vous pouvez encore attendre longtemps que votre expresso se fasse tout seul…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/l2SpVy7i0IEIH8RKo/giphy.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pour autant, bien que la fonctionnalité ne soit pas encore développée aujourd’hui c’est typiquement le type de fonctionnalité qui se développe petit à petit grâce à l’effervescence de la domotique. Vous pouvez d’ores et déjà faire de la domotique chez vous à prix réduit, prenons un cas concret et simple de début de domotique personnel : vos lampes.
Philips a été une des premières sociétés à se lancer dans le marché des ampoules connectées, leur objectif ? Vous faire lâcher 100€ pour un set d’ampoules LED multicolores que vous pourrez piloter via votre mobile ou via un panneau de contrôle domotique.&lt;/p&gt;

&lt;p&gt;Il y a deux ans, un collègue a acheté des ampoules Philips Hue, il avait l’air tout emballé à l’idée de relier son appartement avec ce système. Sur le coup je ne comprenais pas… Les ampoules fonctionnent avec un système de “Bridge” permettant de les relier/contrôler, le prix était exorbitant (environ 100€ le pack avec 3 ampoules + bridge) tout ça pour n’avoir que la possibilité d’allumer/éteindre/changer la couleur des ampoules. 100€ le changement d’ampoule, ça fait un peu cher … Surtout quand on sait qu’une ampoule classique coute aux alentours d’un euro.&lt;/p&gt;

&lt;p&gt;Puis voilà qu’un jour, je tombe sur une offre d’ampoule &lt;a href=&quot;https://xiaomi-mi.com/smart-lighting/xiaomi-yeelight-smart-led-bulb-ipl-e27/&quot;&gt;Xiaomi Yeelight&lt;/a&gt; , 15€ l’ampoule LED multicolore, contrôlable sans bridge, juste avec son smartphone. Autant vous dire que j’étais un homme nouveau… J’ai sauté sur l’occasion car en plus de tomber sur une bonne offre, j’en avais marre de changer régulièrement mes ampoules qui claquaient.&lt;/p&gt;

&lt;p&gt;Pourquoi vous ai-je introduit ces ampoules sur un article de la Google Home Mini ? Tout simplement parce-que ce produit prend tout son sens avec d’autres objets connectés. Par défaut la Google Home Mini ne fait que vous écouter et vous répondre, rien de plus . Mais quel est le rendu quand on le couple à des ampoules, des volets électriques, le chauffage, la porte de votre garage ?
Jugez par vous même via une petite démonstration vidéo :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/google-home-mini/2.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://youtu.be/tyaVDoQAvlw&quot;&gt;Cliquez ici pour voir la vidéo youtube&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Comme vous l’avez vu, la Google Home Mini répond parfaitement bien à mes ordres, je suis assez bluffé de la compréhension de la synthèse vocale. J’ai beau bafouiller, chercher mes mots, prendre des tournures de phrases différentes, la Home Mini arrive toujours à comprendre ce que je lui demande. Les seules fois ou elle ne répond pas à ce que je lui demande c’est tout simplement parce qu’elle n’est pas programmer pour y répondre, comme par exemple avec la phrase “Ok Google, commande moi une pizza”. La qualité sonore est plus que correct, pour une petite enceinte ça crache plutôt pas mal, par contre j’ai remarqué qu’elle grésille/saute quand le volume est au minimum. Je pense à un problème de fabrication, je testerai ça plus en détail et si le problème persiste dans les 2/3 jours à venir j’irai l’échanger.
Coté micro, la reconnaissance est bonne même à distance ( environ 3/4m plus loin dans une autre pièce sans problème).&lt;/p&gt;

&lt;h3 id=&quot;️️-oui-mais-à-quoi-ça-va-te-servir-&quot;&gt;⁉️️ Oui mais à quoi ça va te servir ?&lt;/h3&gt;
&lt;p&gt;Bonne question Michel ! Ayant un vieux poste radio/CD/MP3 dans ma salle de bain (que j’avais acheté plus cher que la Google Home Mini) je voulais remplacer ce poste encombrant par quelque chose de plus intelligent et qui me permettrait de faire un peu plus que de lire des CD et des radios sur les chaines hertziennes.
Objectif accompli avec cette Home Mini qui me permet de faire Web Radio/Réveil/Minuteur/Météo/Pilotage de mes lampes etc…&lt;/p&gt;

&lt;h3 id=&quot;-et-la-vie-privé-dans-tout-ça-&quot;&gt;🔒 Et la vie privé dans tout ça ?&lt;/h3&gt;
&lt;p&gt;C’est &lt;strong&gt;LE&lt;/strong&gt; gros bémol pour moi aujourd’hui, on le sait tous, les objets connectés sont à la mode et les failles/abus qui les entourent font la une des journaux (voir &lt;a href=&quot;https://fr.wikipedia.org/wiki/Mirai_(logiciel_malveillant)&quot;&gt;Mirai&lt;/a&gt; . Bien que la Home Mini soit conçue par un des géants du net et que l’outil soit certainement robuste aux attaques informatique, beaucoup de questions restent en suspend dont une plus que les autres ** Que fait Google des données envoyées via ses objets connectés ?**
J’ai rien contre le fait que Google puisse écouter les plus gros pets ?ou ploufs ? distribués dans mes toilettes par contre les communications environnantes c’est déjà plus problématique.
A cette question voici ce que Google répond :&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;L’appareil Google Home enregistre-t-il toutes mes conversations ?&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Non. Google Home écoute de brefs extraits de conversation (ne dépassant pas quelques secondes) jusqu’à ce qu’il détecte le mot clé. Tant que le mot clé n’est pas détecté, ces extraits sont supprimés et aucune information ne sort de l’appareil&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Et concernant la collecte de données:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Quelles sont les données collectées par Google ?&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nous collectons des données destinées à rendre nos services plus rapides, plus intelligents, plus pertinents et plus utiles pour vous. Google &amp;gt; Home s’améliore au fil du temps pour vous fournir des suggestions et des réponses plus adaptées et plus personnalisées. Pour en savoir plus, reportez-vous aux Règles de confidentialité de Google.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://support.google.com/googlehome/answer/7072285?hl=fr&quot;&gt;Voir la suite de la FAQ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Je vous recommande vivement d’aller lire la FAQ de Google, on y découvre pas mal de chose, comme le fait que Google vous mets à disposition votre historique de recherche, vos ordres à la Home Mini, les applications mobiles que vous avez utilisés etc.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/google-home-mini/my-activity.jpg&quot; alt=&quot;&quot; /&gt;
&lt;a href=&quot;https://myactivity.google.com/myactivity&quot;&gt;Voir “My Activity”&lt;/a&gt;
Tout ça pour dire que Google ne se cache pas de l’utilisation des données (en prenant soin de justifier que ça reste à des fins d’optimisation).
Je trouve cette FAQ assez clair, mon coté méfiant me laisse imaginer les pires scénarios catastrophe possibles concernant l’utilisation de nos données privés mais pour autant, je reste un geek et partant du principe que nos informations sont déjà divulguées à grande échelles via divers équipements informatique (téléphone, ordinateur, badges, carte bancaires etc.) je me dis que dans le fond, si ils ont envie de m’écouter chanter “&lt;a href=&quot;https://www.youtube.com/watch?v=anzzNp8HlVQ&quot;&gt;La macarena&lt;/a&gt;” sous la douche, c’est vraiment qu’ils ont plus rien à foutre ?&lt;/p&gt;

&lt;p&gt;Pour conclure, en dehors de l’aspect vie privé qui peut être problématique pour certains. Cette enceinte Home Mini est vraiment de bonne facture pour son prix (60€ TTC), facile d’utilisation et facile à paramétrer. C’est un must-have du geek !&lt;/p&gt;
</description>
        <pubDate>Sun, 24 Sep 2017 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/google-home-mini/main.jpg</image>
        <link>https://btor.fr/2017/09/24/google-home-mini/</link>
        <guid isPermaLink="true">https://btor.fr/2017/09/24/google-home-mini/</guid>
        
        <category>Materiel</category>
        
        <category>Test</category>
        
        
      </item>
    
      <item>
        <title>Test: Razer stealth blade</title>
        <description>&lt;h1 id=&quot;️-introduction&quot;&gt;✍️ Introduction&lt;/h1&gt;
&lt;p&gt;Pendant plusieurs mois j’ai recherché un remplaçant à mon ordinateur portable &lt;a href=&quot;http://www.01net.com/tests/samsung-np300v3a-fiche-technique-17681.html&quot;&gt;Samsung NP300V3&lt;/a&gt; ( 13,3” 1366 x 768 pixels , Intel Core i3 - 2310M 2.1Ghz, 4go de ram DDR3, 500go HDD, chipset graphique intel ).&lt;/p&gt;

&lt;p&gt;Je me sers majoritairement de mon pc portable pour voyager, que ce soit en France ou à l’étranger donc je ne recherchais pas du tout un pc portable dit “gamer”, vous savez le genre de truc qui fait 20kg, avec écran full HD 17” qui pourrait éclairer une ville entière … ? Etant développeur de profession, je recherchais un ordinateur avec un bon CPU, au moins 8go de ram ( 16 étant vraiment mon idéal) et surtout un écran au moins full HD car sur le samsung c’est bien l’écran qui me posait le plus de soucis ( Avez-vous déjà essayé d’ouvrir PHPStorm sur un écran 1366x768 ? ? ). J’avais bien évidemment un budget, 1500€ environ.&lt;/p&gt;

&lt;h1 id=&quot;-premières-recherches&quot;&gt;🔎 Premières recherches&lt;/h1&gt;
&lt;p&gt;J’ai donc commencé mes recherches sur différents sites, &lt;a href=&quot;https://www.ldlc.com/&quot;&gt;LDLC&lt;/a&gt;, &lt;a href=&quot;https://www.grosbill.com/&quot;&gt;GrosBill&lt;/a&gt;, &lt;a href=&quot;http://www.rueducommerce.fr&quot;&gt;RueDuCommerce&lt;/a&gt;, &lt;a href=&quot;https://www.amazon.fr/&quot;&gt;Amazon&lt;/a&gt; etc. puis je suis rapidement tombé sur des ordinateurs “lambda” comme la &lt;a href=&quot;https://www.amazon.fr/dp/B016K4WQ0G/ref=asc_df_B016K4WQ0G46064120&quot;&gt;Microsoft Surface Pro 4&lt;/a&gt;, &lt;a href=&quot;https://www.amazon.fr/Asus-Zenbook-UX430UA-GV341T-Ultrabook-Windows/dp/B0747DSJGW&quot;&gt;Asus Zenbook&lt;/a&gt; ou encore le &lt;a href=&quot;https://www.amazon.fr/dp/B01NBVN7ZF&quot;&gt;Lenovo yoga 910&lt;/a&gt; qui m’a fait de l’œil pendant un bon bout de temps !
Malheureusement, chaque laptop avait un défaut qui ne me donnait pas envie de faire chauffer la ? CB.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;La surface pro 4&lt;/strong&gt; est beaucoup trop orientée tablette et c’est du microsoft … D’après quelques threads que j’ai pu trouver sur le net, l’installation d’une distribution ubuntu ou debian ne permettrait pas de profiter pleinement des fonctionnalités de la tablette sous linux. Moralité, ça revenait à garder windows avec une autonomie correct mais pas dingue et du matos pas si bien que ça.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;L’asus zenbook&lt;/strong&gt; c’est encore une histoire… J’ai toujours eu beaucoup de mal avec la finition des produits asus, j’ai toujours eu l’impression d’avoir de la camelote dans les mains. Résultat, avant même de voir les spécifications techniques des différents zenbook,&lt;strong&gt;je n’étais pas prêt à lâcher près de 1500€ dans un ordi qui potentiellement allait finir au bûcher ? !&lt;/strong&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Vient le tour du &lt;strong&gt;Lenovo Yoga 910&lt;/strong&gt; … Gros coup de cœur pendant un temps mais lui aussi partait avec quelques désavantages dès le début. La version du 910 à 1300€ ne dispose que de 8go de ram. Une autre version avec 16go de ram existe bien mais n’était soit pas disponible, soit bien trop cher. De plus le Yoga 910 chauffe assez vite, ce qui est très fréquent sur les ultra portables.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;-la-bête-razer-blade-stealth&quot;&gt;💪🏻 La bête, Razer Blade Stealth&lt;/h1&gt;
&lt;p&gt;Puis un jour, par pur hasard, je tombe sur un produit Razer, le &lt;a href=&quot;https://www.amazon.fr/gp/product/B0779XH77P/ref=as_li_tl?ie=UTF8&amp;amp;camp=1642&amp;amp;creative=6746&amp;amp;creativeASIN=B0779XH77P&amp;amp;linkCode=as2&amp;amp;tag=btor-21&amp;amp;linkId=28b67a5557dfdea1962ce4ba85c7f847&quot;&gt;BLADE STEALTH MOTHA FU*** !&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/razer-stealth-blade/5.jpg&quot; alt=&quot;Désolé pour la qualité des photos :D &quot; /&gt;&lt;/p&gt;

&lt;p&gt;Alors pourquoi avoir choisi celui-ci ?&lt;/p&gt;
&lt;h4 id=&quot;les-performances-&quot;&gt;Les performances !&lt;/h4&gt;
&lt;p&gt;Pratiquement tout le monde le dit, le matériel choisi est très bon et le design soigné ! Petit aperçu rapide :&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;***&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;CPU&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Processeur Intel® Core™ i7-7500U avec Hyper-Threading 2.7GHz / 3.5GHz (Base/Turbo)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;Carte graphique&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Intel® HD 620&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;Ram&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;16GB RAM LPDDR3-1 866 MHz (fixe)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;Ecran&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;IGZO, format 16:9, avec rétroéclairage LED, largeur d’angle de vue jusqu’à 170° 13,3” / Tactile&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;Disque dur&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;256go SSD&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;Autonomie&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;9 heures sur écran QHD+ / 7 heures sur écran 4K / 15 heures avec Razer Power Bank&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;La fiche technique est claire, c’est typiquement ce que je recherchais en tout point, excepté celui du &lt;strong&gt;prix&lt;/strong&gt; qui est de &lt;strong&gt;1599€&lt;/strong&gt;. 
Je ne comptais pas mettre autant dans un ordi mais les performances de l’ordinateur et sa finition exceptionnelle m’ont fait changé d’avis. La finition est digne des MacBook pro et pourtant je vomis Apple. Cela dit, il faut avouer que derrière les prix exorbitant appliqués, les MacBook pro ont une finition irréprochable comparé à tout ce qui se fait sur le marché.
Je ne ferais pas de vidéo/photo du packaging complet parce-que beaucoup le font déjà et que je n’y vois pas d’intérêt d’y passer 2h mais il est aussi soigné que le reste.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Le chargeur&lt;/strong&gt; dispose d’une &lt;strong&gt;petite sangle pour pouvoir enrouler vos câbles&lt;/strong&gt; sans qu’ils se trimbalent partout dans votre sac. C’est un détail mais qui m’a beaucoup plu !&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;L’écran&lt;/strong&gt; est sublime, petit bémol sur le fait que ce soit tactile. Je ne compte pas m’en servir mais je pense que si vous comptez l’utiliser vous risquez rapidement de salir l’écran.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Les touches de claviers&lt;/strong&gt; sont fines et agréables au touché, le système Razer Chroma qui fait un carton sur les claviers Razer est aussi disponible sur cet ultraportable. C’est aussi un détail mais ça vous permet de gérer vous même la luminosité,couleur, fréquence d’éclairage de vos touches (et à première vu dispose même d’une API pour coder vous même votre rétroéclairage cf: &lt;a href=&quot;http://developer.razerzone.com/chroma/&quot;&gt;Razer Chroma Dev&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Quelques photos de comparaison avec mon téléphone Xiaomi Redmi 3 et mon ancien laptop&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/razer-stealth-blade/9.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/razer-stealth-blade/10.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/razer-stealth-blade/4.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/razer-stealth-blade/4.1.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ainsi qu’un aperçu de ce que donne les traces de doigts sans avoir forcément les mains grasses&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/razer-stealth-blade/7.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/razer-stealth-blade/8.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;-conclusion&quot;&gt;📌 Conclusion&lt;/h1&gt;
&lt;p&gt;En un mot, &lt;strong&gt;S-A-T-I-S-F-A-C-T-I-O-N !&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Je n’ai jamais été aussi content en achetant un ultra portable, c’est déjà mon 4 ème ou 5ème laptop et je crois que celui-ci devrait me servir pour encore un bon moment.
Pour clôturer et résumer ce choix, je dirais que le Razer Blade Stealth est un très bon ultraportable pour celui qui recherche l’élégance, les performances tout ca dans une tranche respectable de prix.
A l’inverse et contrairement à l’image qu’on pourrait se faire d’un ordinateur Razer, cet ultraportable n’est pas orienté jeux vidéos même si Razer propose le &lt;a href=&quot;https://www.razerzone.com/gaming-systems/refurbished-razer-core&quot;&gt;Razer Core&lt;/a&gt; (Boitier additionnel externe comprenant un GPU plus performant) pour quelque(s)(s)(s) euros en plus.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;✅ J’aime&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;❌ J’aime pas&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Le design, la finition&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Salissant&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Les composants bien choisi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Le prix (forcément)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;L’autonomie&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Les petits plus Razer&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;edit&quot;&gt;Edit&lt;/h4&gt;
&lt;p&gt;Après une grosse panne (écran qui s’allume/s’éteint tout seul et qui a fini par ne plus s’allumer), le laptop est passé par le SAV LDLC et est en réparation chez Razer.
J’attends de voir ce que razer va faire (échange ou réparation) et je vous ferai un retour.&lt;/p&gt;

&lt;h4 id=&quot;edit-bis&quot;&gt;Edit bis&lt;/h4&gt;
&lt;p&gt;L’ordinateur est désormais vendu, après 2 retours au SAV pour cet histoire d’écran qui scintillait et d’autres petits soucis (tactile qui s’active tout seul alors que je touche pas l’écran, problème avec l’UEFI pour installer linux etc..)&lt;/p&gt;
</description>
        <pubDate>Mon, 18 Sep 2017 00:00:00 -0500</pubDate>
        <image>https://btor.fr/assets/images/razer-stealth-blade/main.jpg</image>
        <link>https://btor.fr/2017/09/18/razer-stealth-blade/</link>
        <guid isPermaLink="true">https://btor.fr/2017/09/18/razer-stealth-blade/</guid>
        
        <category>Materiel</category>
        
        <category>Test</category>
        
        
      </item>
    
  </channel>
</rss>
